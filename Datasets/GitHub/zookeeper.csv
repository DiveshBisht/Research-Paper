Author,Email,Date,Message
Manoj Mallela,manojmallela@users.noreply.github.com,2017-08-22T00:53:04Z,Rename README.txt to README.md
Michael Han,hanm@apache.org,2017-08-21T23:50:59Z,"Update README.txt.
Create a section on How to Contribute to make new contributor's life easier. Also create a header section with ZooKeeper logo to make us look cool again."
yaniv.kunda,yaniv@kundas.net,2017-08-18T22:30:06Z,"ZOOKEEPER-2861: Main-Class JAR manifest attribute is incorrect

Author: yaniv.kunda <yaniv@kundas.net>

Reviewers: Abe Fine <afine@apache.org>, Michael Han <hanm@apache.org>

Closes #323 from ykunda/master"
bhupendra jain,bhupendra.jain@huawei.com,2017-08-18T21:35:24Z,"ZOOKEEPER-2804: Node creation fails with NPE if ACLs are null

1) Handled Null case in server. Client will get InvalidACLException
2) Handled null check in create and setACL APIs in client side as mentioned in their javadoc
throws KeeperException.InvalidACLException if the ACL is invalid, null, or empty
3) Not handling any validation for async API of create and setACL in this JIRA because these API doesn't throw KeeperException explicitly. So can not throw InvalidACLExceptin from Client.  If we throw IllegalArgumentException then it will not be consistent with other sync APIs.  So Let server throw InvalidACLException for async API.

Please review and provide suggestion.

Author: bhupendra jain <bhupendra.jain@huawei.com>

Reviewers: Mohammad Arshad <arshad@apache.org>, Michael Han <hanm@apache.org>

Closes #279 from jainbhupendra24/ZOOKEEPER-2804-new"
Brian Nixon,nixon@fb.com,2017-08-18T04:32:43Z,"ZOOKEEPER-2872: Interrupted snapshot sync causes data loss

This requires the fix in ZOOKEEPER-2870: Improve the efficiency of AtomicFileOutputStream

Author: Brian Nixon <nixon@fb.com>

Reviewers: Michael Han <hanm@apache.org>

Closes #333 from enixon/snap-sync"
Andrew Schwartzmeyer,andrew@schwartzmeyer.com,2017-08-18T04:20:49Z,"ZOOKEEPER-2874: Windows Debug builds don't link with `/MTd`

When building in Debug configuration, this logic ensures that `/MTd` is
used instead of just `/MT`, which on Windows means to link to the
multi-threaded (debug) version of the standard library.

When the user does not add `/MT` as a compile option manually, CMake
would otherwise link to the correct one. Because we are overriding it
for threaded compilations, we also must ensure that Debug configurations
are specially handled.

Furthermore, this must be done using a generator expression over
configuration time logic because the Visual Studio CMake generators are
""multi-configuration generators"", that is, the configuration is chosen
at build time instead of compile time. The generator expression handles
this scenario, but checking `CMAKE_BUILD_TYPE` would not.

Author: Andrew Schwartzmeyer <andrew@schwartzmeyer.com>

Reviewers: Michael Han <hanm@apache.org>

Closes #335 from andschwa/ZOOKEEPER-2874"
Mathias Kub,makubi@users.noreply.github.com,2017-08-13T05:28:58Z,"Fix typos in zookeeperAdmin.html

Author: Mathias Kub <makubi@users.noreply.github.com>

Closes #325 from makubi/doc-zookeeperAdmin-typos"
Andrew Schwartzmeyer,andrew@schwartzmeyer.com,2017-08-13T05:21:25Z,"ZOOKEEPER-2859: Fix CMake build on OS X.

The libraries `libm` and `librt` (providing `math.h` and `clock_gettime`
respectively) cannot be linked on OS X. Instead, this functionality is
""free"" with `libSystem`.

Note that the `hashtable` library has the dependency on `libm`, not the
`zookeeper` library. This was an error carried over from the Autotools
build.

Also finishes a TODO for `pthread` by importing it using the
`FindThreads` CMake package.

Author: Andrew Schwartzmeyer <andrew@schwartzmeyer.com>

Reviewers: Michael Han <hanm@apache.org>

Closes #319 from andschwa/macos"
Fangmin Lyu,allenlyu@fb.com,2017-08-10T20:14:22Z,"ZOOKEEPER-2870: Improve the efficiency of AtomicFileOutputStream

Author: Fangmin Lyu <allenlyu@fb.com>

Reviewers: Michael Han <hanm@apache.org>

Closes #331 from lvfangmin/ZOOKEEPER-2870"
Abraham Fine,afine@apache.org,2017-08-10T20:04:35Z,"ZOOKEEPER-2864: Add script to run a java api compatibility tool

For example: `python check_compatibility.py branch-3.5..branch-3.4 `

Author: Abraham Fine <afine@apache.org>

Reviewers: Michael Han <hanm@apache.org>

Closes #329 from afine/ZOOKEEPER-2864

(cherry picked from commit 82be7f63c69b8aeecf80106c5e637bd80b64657e)
Signed-off-by: Michael Han <hanm@apache.org>"
Abraham Fine,afine@apache.org,2017-08-09T18:31:06Z,"ZOOKEEPER-2786: Flaky test: org.apache.zookeeper.test.ClientTest.testNonExistingOpCode

This is the third time this failure has popped up. This time it seemed to only impact tests run using NettyServerCnxnFactory (so it only impacts 3.5 and master) and I was able to get it to pop up with sufficient frequency when running the tests locally.

The issue is caused by improper handling of netty's futures. When we call `channel.write(wrappedBuffer(sendBuffer));` the write is completed asynchronously. The close call `channel.close();` is also asynchronous. So we can run into the case where the close occurs before a write.

This patch changes our close call to be a callback for the completion of an empty write. This way we are guaranteed that the channel has ""drained"" before a close.

My primary concern with this patch is the channel being used while it is closing (between the write of an empty buffer and the execution of the close callback). I have added a `closingChannel` boolean to track that, which I believe is sufficient. Let me know if anyone finds a situation where that is not the case.

Author: Abraham Fine <afine@apache.org>

Reviewers: Michael Han <hanm@apache.org>

Closes #327 from afine/ZOOKEEPER-2786_third_times_a_charm

(cherry picked from commit 23962f12395ada67e689b8ff57573fc1398a54eb)
Signed-off-by: Michael Han <hanm@apache.org>"
Michelle,pheyyintan@gmail.com,2017-08-06T04:49:17Z,"ZOOKEEPER-169: Content needed: ""Connecting to ZooKeeper""

Added a simply example in C++ to demonstrate Client connecting to
Zookeeper server using C bindings along with few lines of explanation.

Author: Michelle <pheyyintan@gmail.com>

Reviewers: Abe Fine <afine@apache.org>, Michael Han <hanm@apache.org>

Closes #189 from MichelleTPY/ZOOKEEPER-169"
Alexander Shraer,ashraer@apple.com,2017-08-06T04:22:30Z,"ZOOKEEPER-2865: Reconfig Causes Inconsistent Configuration file among…

… the nodes

Author: Alexander Shraer <ashraer@apple.com>

Reviewers: Michael Han <hanm@apache.org>

Closes #328 from shralex/ZOOKEEPER-2865"
Fangmin Lyu,allenlyu@fb.com,2017-08-03T18:41:30Z,"ZOOKEEPER-2853: Update lastZxidSeen in FileTxnLog

Author: Fangmin Lyu <allenlyu@fb.com>

Reviewers: Michael Han <hanm@apache.org>, maoling <maoling199210191@sina.com>

Closes #322 from lvfangmin/ZOOKEEPER-2853"
Michael Han,hanm@apache.org,2017-08-03T18:32:38Z,"ZOOKEEPER-2862: Incorrect javadoc syntax for web links in StaticHostProvider.java.

Javadoc does not offer any special tagging for web links - the ""link"" etc is for linking with other javadocs of the classes / methods. Use normal html markup instead.

This fixes warning messages generated when running ""ant javadoc"". Verified generated javadoc that the web link is functional.

Author: Michael Han <hanm@apache.org>

Closes #326 from hanm/ZOOKEEPER-2862"
Fangmin Lyu,allenlyu@fb.com,2017-08-03T18:28:20Z,"ZOOKEEPER-2852: Read snapshotSizeFactor from system property

Author: Fangmin Lyu <allenlyu@fb.com>

Reviewers: Michael Han <hanm@apache.org>

Closes #321 from lvfangmin/ZOOKEEPER-2852"
Abraham Fine,abefine@cloudera.com,2017-07-27T22:36:51Z,"ZOOKEEPER-2829: Interface usability / compatibility improvements through Java annotation.

This patch uses Apache Yetus audience annotations to label our publicly available interfaces and then generate our javadoc based on the annotations. The javadoc generated by this patch should be identical to our javadoc before with a few extra classes (that I think should have been included before anyway).

HostProvider
Record
StaticHostProvider
Transaction
ZKClientConfig

The ""gotcha"" with this patch is the way that java classes generated by jute are handled. There are four of these classes that need to be publicly documented: ACL, Id, Stat, StatPersisted (in addition to their superclass Record). I thought it would be safest to have the jute compiler always label these as ""Public"" and then we can filter out the ones we don't want in the javadoc ant task (by excluding the org.apache.zookeeper.server package and then pulling in the tools classes separately).

Author: Abraham Fine <abefine@cloudera.com>

Reviewers: Michael Han <hanm@apache.org>

Closes #316 from afine/ZOOKEEPER-2829

(cherry picked from commit 1bda92c268b989fcbb35ec1bb47eee6631a183e2)
Signed-off-by: Michael Han <hanm@apache.org>"
Michael Han,hanm@apache.org,2017-07-27T21:09:10Z,"ZOOKEEPER-2577: Fix flaky testDuringLeaderSync test.

testDuringLeaderSync uses the presence of intermediate zoo.cfg.dynamic file to decide if the reconfig operation was succeeded or not. This is not a problem and is logically correct, however in tests that provisions QuorumPeer directly through MainThread, the configFile will be null and the resulted intermediate dynamic reconfig file will has a name of ""null.cfg.dynamic"". This causes problem because multiple test cases use MainThread to provision QuorumPeer so these tests will share a single ""null.cfg.dynamic"" file, as opposed to the zoo.cfg.dynamic file in their specific test folder when configFile was not null. Since we support running concurrent ant unit tests in apache build infrastructure, it is highly likely that multiple tests that rely on this shared null.cfg.dynamic file will execute simultaneously which create all sorts of failure cases (this also explains why if one tries to reproduce the test failures in a standalone fashion the test will always pass, with the absence of the file sharing.).

This is problematic in multiple test cases and in particular cause this testDuringLeaderSync fail fairly frequently. There are multiple solutions to this problem:

* Implement retry with timeout logic when detecting the presence of intermediate config files in testDuringLeaderSync. This will fix this specific test but the fix is non-deterministic and other tests might still fail because of sharing of null.cfg.dynamic file.

* Always make sure to to feed a real config file when provision QuorumPeer. This however is an overkill as some cases a pure artificial QuorumPeer w/o real config file fit the use case well.

The approach taking here is to for this specific test, making sure we always have a configured confFileName, and it is pretty trivial to do so. For other tests, where the intermediate config file name is not important or irrelevant (e.g. FLE related tests), they will still have null confFileName because they directly provision QuorumPeer during test.

Testing done: running this patch on apache jenkins for the past week with 500 runs. Not only this test is fixed but overall stability of entirely unit tests are improved.

Author: Michael Han <hanm@apache.org>

Reviewers: Alexander Shraer <shralex@gmail.com>

Closes #315 from hanm/working"
panyuxuan,panyuxuan@cmss.chinamobile.com,2017-07-27T00:24:20Z,"ZOOKEEPER-2856: ZooKeeperSaslClient#respondToServer should log exception

See https://issues.apache.org/jira/browse/ZOOKEEPER-2856 for details.

When upstream like HBase call ZooKeeperSaslClient with security enabled, we sometimes get error in HBase logs like:
`SASL authentication failed using login context 'Client'.`
This error occures when getting SaslException in ZooKeeperSaslClient#respondToServer :
`catch (SaslException e) {`
                `LOG.error(""SASL authentication failed using login context '"" +`
                       ` this.getLoginContext() + ""'."");`
                `saslState = SaslState.FAILED;`
                `gotLastPacket = true;`
`  }`
This error makes user confused without explicit exception message. So I think we can add exception message to the log.

The patch uses  parameterized logging to add the exception message to the log.

Author: panyuxuan <panyuxuan@cmss.chinamobile.com>

Reviewers: Michael Han <hanm@apache.org>

Closes #318 from pyx1990/ZOOKEEPER-2856"
Andrew Schwartzmeyer,andrew@schwartzmeyer.com,2017-07-18T17:42:22Z,"ZOOKEEPER-2841: ZooKeeper public include files leak porting changes

This patch primarily adds a cross-platform CMake build system. This is in
addition to the Autotools system on Linux, until it can be deprecated, and this
replaces the existing committed Visual Studio Solutions for Windows.

As this commit deprecates (and breaks) the previously existing Visual Studio
solutions and projects, they've been removed. Building on Windows now requires
CMake, but this enables the support of any code-supported Visual Studio version.
Support for Visual Studio 2017 was explicitly added by this patch, and support
for future versions, barring software bugs, should be available automatically
through CMake.

The notable features lacking in comparison to Autotools are Solaris support,
shared library builds, whitelisted symbol exports, libtool integration, and
doxygen document generation. Almost everything else from Autotools has been
ported, including header/function/library checks, and all targets (zookeeper,
hashtable, cli, load_gen, and tests).

The primary work involved for CMake (other than the writing of `CMakeLists.txt`)
was transitioning the hand-written `winconfig.h` to an auto-generated `config.h`
file, and guarding code with `#ifdef HAVE_FEATURE`. The `cmake_config.h.in`
template was modeled after the Autotools config file so that the feature guards
share the same names.

This patch also refactors the Windows port of the C client. Notably, it moves as
much porting code as possible out of the publicly included `winconfig.h` header
and into the relevant source files, or the private `winport.h` header.

While `load_gen.c` looks at first glance as if it were ported to Windows, it
never actually was, so the erroneous `#include ""win32port.h""` was removed, and
the target is not built on Windows.

The `include/winstdint.h` header was removed as it has been replaced by
`<stdint.h>`. This might break very old versions of Visual Studio; but in those
cases, previous versions of the client are available.

A bug for upstream libraries including the ZooKeeper headers was fixed by
removing `#undef AF_INET6` entirely, and removing `#include <windows.h>`, as it
""pulls in the world"" and should not be included publicly.

A guard was placed around `#define snprintf` in order to enable compiling with
modern versions of MSVC, including Visual Studio 2015.

A problem with `DLL_EXPORT` and `USE_STATIC_LIB` being redefined was fixed.

There are existent warnings which this patch did not attempt to fix.

Building tests on Windows is not supported, but was not previously supported.
The tests need to be ported.

Future work should resolve the `ACL` / `ZKACL` conflict, and potentially remove
`include/winconfig.h` altogether.

Author: Andrew Schwartzmeyer <andrew@schwartzmeyer.com>

Reviewers: Michael Han  <hanm@apache.org>

Closes #306 from andschwa/ZOOKEEPER-2841"
Michael Han,hanm@apache.org,2017-07-06T16:48:47Z,"ZOOKEEPER-2819: Changing membership configuration via rolling restart …

…does not work on 3.5.x.

This patch disables the creation of dynamic config files (zoo.cfg.dynamic) and static config back up files (zoo.cfg.bak) when the dynamic reconfig feature flag (reconfigEnabled) is disabled. With this patch the membership information (such as server list) will be stored in static zoo.cfg file and such information would not go through quorum and leader / follower sync phase, which makes it possible for users to continue using the old rolling restart approach.

shralex PTAL.

Author: Michael Han <hanm@apache.org>

Reviewers: Alexander Shraer <shralex@gmail.com>, asdf2014 <1571805553@qq.com>

Closes #292 from hanm/ZOOKEEPER-2819"
b00902108,brahmareddy.battula@huawei.com,2017-07-04T05:56:09Z,"ZOOKEEPER-2818: Improve the ZooKeeper#setACL java doc

Author: b00902108 <brahmareddy.battula@huawei.com>

Reviewers: Michael Han <hanm@apache.org>

Closes #291 from brahmareddybattula/ZOOKEEPER-2818"
arshadmohammad,arshad.mohammad.k@gmail.com,2017-07-04T05:39:58Z,"ZOOKEEPER-2355: Ephemeral node is never deleted if follower fails while reading the proposal packet

ZOOKEEPER-2355:Ephemeral node is never deleted if follower fails while reading the proposal packet

Author: arshadmohammad <arshad.mohammad.k@gmail.com>
Author: Mohammad Arshad <arshad@apache.org>

Reviewers: Michael Han <hanm@apache.org>, Rakesh Radhakrishnan <rakeshr@apache.org>, Flavio Junqueira <fpj@apache.org>, Jiang Jiafu <jiangjiafu1989@gmail.com>

Closes #112 from arshadmohammad/ZOOKEEPER-2355"
Abraham Fine,afine@apache.org,2017-06-30T20:43:45Z,"ZOOKEEPER-2786: Flaky test: org.apache.zookeeper.test.ClientTest.testNonExistingOpCode

As hanm noticed and mentioned on the JIRA this flaky test can still fail. The reason is that we can reconnect before calling `watcher.waitForDisconnected(5000);` We need to make sure that we only process a single event from the watcher. Using a `synchronized (watcher)` provides that guarantee here.

This issue can be reproduced by dropping a Thread.sleep before `watcher.waitForDisconnected(5000);`.

Author: Abraham Fine <afine@apache.org>

Reviewers: Michael Han <hanm@apache.org>

Closes #286 from afine/ZOOKEEPER-2786_3.5_fix

(cherry picked from commit 74e45a0d635702f1a1f57adffdaba9acdc9efee2)
Signed-off-by: Michael Han <hanm@apache.org>"
Benedict Jin,benedictjin2016@gmail.com,2017-06-25T22:16:07Z,"ZOOKEEPER-2816: Code refactoring for `ZK_SERVER` module

* Fix spell issues
* Merge exceptions with `|` character
* Remove unnecessary boxing
* Remove unused import
* Using enhanced `for` loop
* Using `LinkedList` for removing duplicates ACL

Author: asdf2014 <1571805553@qq.com>

Reviewers: Michael Han <hanm@apache.org>

Closes #288 from asdf2014/zk_quorum"
asdf2014,1571805553@qq.com,2017-06-25T22:07:06Z,"ZOOKEEPER-2815: 1. Using try clause to close resource; 2. Others code refactoring for PERSISTENCE module

MINOR:
* Using try clause to close resource;
* Others code refactoring for PERSISTENCE module.

Author: asdf2014 <1571805553@qq.com>

Reviewers: Michael Han <hanm@apache.org>

Closes #283 from asdf2014/code_refactoring"
Robert Evans,evans@yahoo-inc.com,2017-06-23T16:39:05Z,"ZOOKEEPER-1782: Let a SASL super user be super

Author: Robert Evans <evans@yahoo-inc.com>

Reviewers: Michael Han <hanm@apache.org>, Mohammad Arshad <arshad@apache.org>

Closes #282 from revans2/ZOOKEEPER-1782"
Fangmin Lyu,allenlyu@fb.com,2017-06-18T17:23:04Z,"ZOOKEEPER-2808: fix miss-referenced ACL count issue when upgrading the ZooKeeper

Author: Fangmin Lyu <allenlyu@fb.com>

Reviewers: Michael Han <hanm@apache.org>

Closes #284 from lvfangmin/ZOOKEEPER-2808"
Abraham Fine,afine@apache.org,2017-06-15T22:34:59Z,"ZOOKEEPER-2786: Flaky test: org.apache.zookeeper.test.ClientTest.testNonExistingOpCode

On branch 3.5, testNonExistingOpCode appears to always take 30 seconds to execute (far too long): https://builds.apache.org/job/ZooKeeper_branch35_jdk7/967/testReport/org.apache.zookeeper.test/ClientTest/testNonExistingOpCode/history/

The reason for this is a call to `zk.testableWaitForShutdown(CONNECTION_TIMEOUT)` while waiting for the client to disconnect after it sent a request with a bad opcode to the server. The call to `testableWaitForShutdown` never actually asserts anything and effectively just hangs for CONNECTION_TIMEOUT (30 seconds) and returns because the client reconnects to the server.

This patch replaces `zk.testableWaitForShutdown(CONNECTION_TIMEOUT)` with `watcher.waitForDisconnected(5000)` which is a better way to detect if we have been disconnected.

Author: Abraham Fine <afine@apache.org>

Reviewers: Michael Han <hanm@apache.org>

Closes #259 from afine/ZOOKEEPER-2786_br3.5

(cherry picked from commit c89784cc57bdcc88de89da6993d758225585d33e)
Signed-off-by: Michael Han <hanm@apache.org>"
Michael Han,hanm@apache.org,2017-06-09T18:01:58Z,Fix a typo in commit e47e6bb8791b2dce9b82ebe96a1c0d8a173726e0 that breaks the build.
Ben,bensherman@gmail.com,2017-06-09T16:37:43Z,"ZOOKEEPER-1748: add tcp keepalive option for branch 3.5

Adding TCP keepalive for branch 3.5, as described in https://issues.apache.org/jira/browse/ZOOKEEPER-1748 and https://github.com/apache/zookeeper/pull/274

Author: Ben <bensherman@gmail.com>
Author: Ben Sherman <bsherman@axon.com>

Reviewers: Michael Han <hanm@apache.org>

Closes #276 from bensherman/ZOOKEEPER-1748-3.5

(cherry picked from commit e47e6bb8791b2dce9b82ebe96a1c0d8a173726e0)
Signed-off-by: Michael Han <hanm@apache.org>"
Mohammad Arshad,arshad@apache.org,2017-06-08T15:59:05Z,"ZOOKEEPER-2775: ZK Client not able to connect with Xid out of order error

Once client enters into Xid out of order issue, It never comes to normal state. It keeps trying to connect and  fail with the same error.  Recreating/Restarting is the only solution as of now. This happens because of bug in the ZK client code. This MR provides the fix.

Author: Mohammad Arshad <arshad@apache.org>

Reviewers: Michael Han <hanm@apache.org>, Rakesh Radhakrishnan <rakeshr@apache.org>, Abe Fine <afine@apache.org>

Closes #254 from arshadmohammad/ZOOKEEPER-2775-XidOutOfOrder"
Abraham Fine,afine@apache.org,2017-06-08T15:51:09Z,"ZOOKEEPER-2798: Fix flaky test: org.apache.zookeeper.test.ReadOnlyModeTest.testConnectionEvents

See https://github.com/apache/zookeeper/pull/270 for a description of the bug.

Author: Abraham Fine <afine@apache.org>

Reviewers: Michael Han <hanm@apache.org>

Closes #271 from afine/ZOOKEEPER-2798_3.5

(cherry picked from commit 643e551eacc1fb76c40e04b5d857aaac77089343)
Signed-off-by: Michael Han <hanm@apache.org>"
Michael Han,hanm@apache.org,2017-06-01T16:34:42Z,"ZOOKEEPER-2359: ZooKeeper client has unnecessary logs for watcher removal errors.
An error code/exception is generated so the logs are noisy and unnecessary. If the client handles the error there's still a log message. This is different than other APIs. These logs should be removed.

Author: Jordan Zimmerman <jordan@jordanzimmerman.com>

Reviewers: Edward Ribeiro <edward.ribeiro@gmail.com>, Michael Han <hanm@apache.org>"
Patrick White,patrick@patrickwhite.org,2017-06-01T03:45:49Z,"ZOOKEEPER-2797: Defend against bad TTLs from misbehaving clients

Validate the TTL before it makes it to the commit processor to prevent blowing up ZK

Author: Patrick White <patrick@patrickwhite.org>

Reviewers: Jordan Zimmerman <jordan@jordanzimmerman.com>, Abraham Fine <afine@apache.org>, Michael Han <hanm@apache.org>

Closes #267 from packysauce/protect_from_bad_ttl"
Abraham Fine,afine@apache.org,2017-05-30T23:01:59Z,"ZOOKEEPER-2788: remove unused MAX_CONNECTION_ATTEMPTS in QuorumCnxManager.java.

Author: Abraham Fine <afine@apache.org>

Reviewers: Michael Han <hanm@apache.org>

Closes #266 from afine/ZOOKEEPER-2788"
Michael Han,hanm@apache.org,2017-05-30T17:43:52Z,"ZOOKEEPER-2796: Fix broken test testCreateNodeWithoutData caused by ZK-2757.

ZK-2757 introduces a new MalformedPathException which intercepts and wraps the IllegalArgumentException that this test was expecting.

Author: Michael Han <hanm@apache.org>

Closes #265 from hanm/ZOOKEEPER-2796"
Ramu,kkakarla@redhat.com,2017-05-26T23:03:46Z,"ZOOKEEPER-2767: Corrected keystore related messages to truststore mess…

possible fix for ""https://issues.apache.org/jira/browse/ZOOKEEPER-2767""

Author: Ramu <kkakarla@redhat.com>

Reviewers: Michael Han <hanm@apache.org>

Closes #263 from ramu11/ZOOKEEPER-2767"
Abraham Fine,afine@apache.org,2017-05-26T22:52:28Z,"ZOOKEEPER-2757: Incorrect path crashes zkCli

This issue is caused by ZooKeeper relying on `IllegalArgumentException` in `PathUtils#validatePath`. `IllegalArgumentException` is an unchecked exception and we never catch it within each individual *Command.java, so it bubbles up and kills the CLI.

Given that throwing `IllegalArgumentException` is part of ZooKeeper's API, I believe that unfortunately we can not change this behavior at this time. This patch catches `IllegalArgumentException` and wraps it, so the CLI prints an error but does not quit. I believe I handled all of the relevant commands, please check to make sure I am not missing any.

Author: Abraham Fine <afine@apache.org>

Reviewers: Michael Han <hanm@apache.org>

Closes #240 from afine/ZOOKEEPER-2757

(cherry picked from commit ac544de9b63f536d4a38fc9413782d52a0accf75)
Signed-off-by: Michael Han <hanm@apache.org>"
Abhishek Singh Chouhan,abhishek.chouhan@salesforce.com,2017-05-18T21:14:39Z,"ZOOKEEPER-2785: Server inappropriately throttles connections under loa…

…d before SASL completes

Author: Abhishek Singh Chouhan <abhishek.chouhan@salesforce.com>

Reviewers: Michael Han <hanm@apache.org>

Closes #256 from abhishek-chouhan/ZOOKEEPER-2785"
Michael Han,hanm@apache.org,2017-05-11T14:59:42Z,"ZOOKEEPER-1932: Remove deprecated LeaderElection class.

The motivation of removing LeaderElection class:
* It has been long deprecated and no one uses it.
* Tests around it is flaky.

Author: Michael Han <hanm@cloudera.com>

Reviewers: Flavio Junqueira <fpj@apache.org>, Allan Lyu <fangmin@apache.org>, Mohammad Arshad <arshad@apache.org>

Closes #106 from hanm/ZOOKEEPER-1932"
eolivelli,eolivelli@apache.org,2017-05-01T15:19:15Z,"ZOOKEEPER-2697: Handle graceful stop of ZookKeeper client

Add a ZooKeeper.close(int timeout) method which waits for internal resources to be released

Author: eolivelli <eolivelli@apache.org>

Reviewers: Michael Han <hanm@apache.org>

Closes #222 from eolivelli/ZOOKEEPER-2697-close-with-timeout"
Abhishek Kumar,abhishek.kr@huawei.com,2017-04-29T18:17:03Z,"ZOOKEEPER-2742: Few test cases of org.apache.zookeeper.ZooKeeperTest

 Few test cases of org.apache.zookeeper.ZooKeeperTest fails in Windows

Author: Abhishek Kumar <abhishek.kr@huawei.com>

Reviewers: Mohammad Arshad <arshad@apache.org>

Closes #237 from abhi-kr/ZOOKEEPER-2742"
Edward Ribeiro,edward.ribeiro@gmail.com,2017-04-28T05:14:08Z,"ZOOKEEPER-2662: Export a metric for txn log sync times

Author: Edward Ribeiro <edward.ribeiro@gmail.com>

Reviewers: Michael Han <hanm@apache.org>

Closes #241 from eribeiro/ZOOKEEPER-2662 and squashes the following commits:

1d24e06 [Edward Ribeiro] Addressed review comments
7ce89d7 [Edward Ribeiro] ZOOKEEPER-2662: Export a metric for txn log sync times"
Umesh Panchaksharaiah,upangit@users.noreply.github.com,2017-04-27T21:20:32Z,"ZOOKEEPER-2316: comment does not match code logic

Fixing ZOOKEEPER-2316.

Author: Umesh Panchaksharaiah <upangit@users.noreply.github.com>
Author: Umesh Panchaksharaiah <upanchak@yahoo.com>

Reviewers: Abraham Fine <afine@apache.org>, Michael Han <hanm@apache.org>

Closes #223 from upangit/ZOOKEEPER-2316 and squashes the following commits:

7669f19 [Umesh Panchaksharaiah] ZOOKEEPER-2316: comment does not match code logic
7705e24 [Umesh Panchaksharaiah] ZOOKEEPER-2316: comment does not match code logic"
Jeff Widman,jeff@jeffwidman.com,2017-04-24T17:07:37Z,"ZOOKEEPER-2758: Fix typo

Continued from #210 and targeting the 3.4 branch as requested.

Author: Jeff Widman <jeff@jeffwidman.com>

Reviewers: Michael Han <hanm@apache.org>

Closes #228 from jeffwidman/patch-2

(cherry picked from commit 04b7553698d38b10f53aa8861fb07986e469c34f)
Signed-off-by: Michael Han <hanm@apache.org>"
Abraham Fine,afine@apache.org,2017-04-18T23:19:18Z,"ZOOKEEPER-2638: ZooKeeper should log which serverCnxnFactory is used during startup

Author: Abraham Fine <afine@apache.org>

Reviewers: Michael Han <hanm@apache.org>, Edward Ribeiro <edward.ribeiro@gmail.com>

Closes #216 from afine/ZOOKEEPER-2638

(cherry picked from commit 01f0c059c912fde07960238812e6051e1fa5e65d)
Signed-off-by: Michael Han <hanm@apache.org>"
Abraham Fine,afine@apache.org,2017-04-18T00:02:22Z,"ZOOKEEPER-2744: Typos in the comments of ZooKeeper class

Author: Abraham Fine <afine@apache.org>

Reviewers: Michael Han <hanm@apache.org>, Edward Ribeiro <edward.ribeiro@gmail.com>

Closes #217 from afine/ZOOKEEPER-2744

(cherry picked from commit 0665cb75b9a5257e92aaef0f866da13161cc7591)
Signed-off-by: Michael Han <hanm@apache.org>"
Abraham Fine,afine@apache.org,2017-04-17T23:56:21Z,"ZOOKEEPER-2747: Fix ZooKeeperAdmin Compilation Warning

Author: Abraham Fine <afine@apache.org>

Reviewers: Michael Han <hanm@apache.org>

Closes #214 from afine/ZOOKEEPER-2747"
Michael Han,hanm@apache.org,2017-04-17T23:37:19Z,"ZOOKEEPER-2722: fix flaky testSessionEstablishment test.

Make sure client is connected to a quorum before issuing a write operation to avoid possible race condition between connected to a RO server and forming a new quorum.

Author: Michael Han <hanm@apache.org>

Reviewers: Rakesh Radhakrishnan <rakeshr@apache.org>, Camille Fournier <camille@apache.org>

Closes #191 from hanm/ZOOKEEPER-2722 and squashes the following commits:

99bf87f [Michael Han] Make sure syncConnected flag is set to false in read only connected state.
9969979 [Michael Han] ZOOKEEPER-2722: fix flaky test testSessionEstablishment.

(cherry picked from commit 212201131f8eb01dd2209deb37656ccc4096de77)
Signed-off-by: Michael Han <hanm@apache.org>"
Michael Han,hanm@apache.org,2017-04-10T17:19:34Z,"ZOOKEEPER-2743: Netty connection leaks JMX connection bean.

See https://issues.apache.org/jira/browse/ZOOKEEPER-2743 for details on the symptom and diagnostic.

There are many ways of fixing this. For example we can enforce certain ordering of the close operations to eliminate the race condition however that would incur non trivial performance penalty as a result of synchronization. I think the solution in this patch is simple and effective as it observes that the bean unregister call is idempotent and the call itself is trivial so we just always unregister connection upon close the connection, to ensure the bean is unregistered regardless of the races.

I've also stress tested this solution on internal Jenkins which indicates no failures of https://issues.apache.org/jira/browse/ZOOKEEPER-2707 for the past two days.

A side note is NIO connection in theory would suffer the same problem however I am unable to reproduce the same racing with existing unit test. So I just leave NIO as it is, for now.

Author: Michael Han <hanm@apache.org>

Reviewers: Rakesh Radhakrishnan <rakeshr@apache.org>

Closes #211 from hanm/ZOOKEEPER-2743"
Michael Han,hanm@apache.org,2017-04-05T00:02:55Z,"ZOOKEEPER-2746: remove the check on the new leader after a dynamic re…

…config operation.

This check might not always hold because the nominated leader could fail to lead the quorum during sync phase - for example if sync time out [when waiting for quorum ack](https://github.com/apache/zookeeper/blob/master/src/java/main/org/apache/zookeeper/server/quorum/Leader.java#L1232). I am thinking we should just remove this instead of fixing it because the nominated leader is not an interface level contract / guarantee but a best effort / implementation level details.

Author: Michael Han <hanm@apache.org>

Reviewers: Alexander Shraer <shralex@gmail.com>

Closes #213 from hanm/ZOOKEEPER-2746"
Michael Han,hanm@apache.org,2017-03-27T17:31:44Z,"ZOOKEEPER-2737: close netty connection when exceptions occur during w…

…rite to channel to prevent resource leak.

I am OK to add some contrived test case to test this but I'd like to do that later if needed, so this fix can get in upcoming releases..

Author: Michael Han <hanm@apache.org>

Reviewers: Brian Nixon <nixon@fb.com>, Abraham Fine <afine@apache.org>, Rakesh Radhakrishnan <rakeshr@apache.org>, Patrick Hunt <phunt@apache.org>

Closes #207 from hanm/ZOOKEEPER-2737

(cherry picked from commit 5c356f5a47402c000b5e206a536273afc75de883)
Signed-off-by: Michael Han <hanm@apache.org>"
randgalt,jordan@jordanzimmerman.com,2017-03-23T17:46:42Z,"This PR adds support for TTL nodes to the CLI

Author: randgalt <jordan@jordanzimmerman.com>

Reviewers: Michael Han <hanm@apache.org>, Camille Fournier <camille@apache.org>

Closes #193 from Randgalt/ZOOKEEPER-2608 and squashes the following commits:

bd57197 [randgalt] fixed spacing nits
f241102 [randgalt] Merge branch 'master' into ZOOKEEPER-2608
72fdda9 [randgalt] Added ttl option to CLI create command
02fd557 [randgalt] Removed bogus import
9cb973c [randgalt] This patch takes advantage of 3.5's container support. Most of the work needed to support TTLs is there already. In order not to break on-disk and protocol compatibility the ephemeralOwner is yet-again overloaded to have special meaning. New opcodes and transaction records had to be added in a similar manner to Containers"
woojin.joe,woojin.joe@linecorp.com,2017-03-23T17:22:25Z,"ZOOKEEPER-2735: fix typos in shell scripts

This PR contains corrections for some spelling typos in shell scripts.

I also create the issue in JIRA [ZOOKEEPER-2735](https://issues.apache.org/jira/browse/ZOOKEEPER-2735)

Author: woojin.joe <woojin.joe@linecorp.com>

Reviewers: Michael Han <hanm@apache.org>

Closes #204 from not-for-me/master"
Michael Han,hanm@apache.org,2017-03-21T19:09:55Z,"ZOOKEEPER-2635: regenerate document for master / 3.6 branch.

Author: Michael Han <hanm@apache.org>

Reviewers: Michael Han <hanm@apache.org>

Closes #203 from hanm/ZOOKEEPER-2635-master"
Brian Nixon,nixon@fb.com,2017-03-21T16:49:56Z,"ZOOKEEPER-2725: Promote local session to global when ephemeral created in multi-op

Patch and unit test for issue.

Author: Brian Nixon <nixon@fb.com>

Reviewers: Abraham Fine <afine@apache.org>, Michael Han <hanm@apache.org>

Closes #195 from enixon/ZOOKEEPER-2725 and squashes the following commits:

0a32b9a [Brian Nixon] fill diamond operators
7f2fd37 [Brian Nixon] add direct testing of checkUpgradeSession in addition to integration style test
5cbca58 [Brian Nixon] ZOOKEEPER-2725: Promote local session to global when ephemeral created in multi-op"
Kyle Nusbaum,knusbaum@yahoo-inc.com,2017-03-16T19:57:12Z,"ZOOKEEPER-2726 ZOOKEEPER-2693: Patch for introduces potential race condition

Synchronizing these methods prevents potential race conditions.

Author: Kyle Nusbaum <knusbaum@yahoo-inc.com>

Reviewers: Govind Menon, Kishor Patil <patik523@yahoo.com>, Michael Han <hanm@apache.org>

Closes #196 from knusbaum/ZOOKEEPER-2726-master"
Enrico Olivelli,eolivelli@gmail.com,2017-03-16T18:07:22Z,"ZOOKEEPER-2460 Remove javacc dependency from public Maven pom

Author: eolivelli <eolivelli@gmail.com>

Reviewers: Mohammad Arshad <arshad@apache.org>

Closes #116 from eolivelli/ZOOKEEPER-2460"
Michael Han,hanm@apache.org,2017-03-16T16:13:45Z,"ZOOKEEPER-2716: Flaky Test: org.apache.zookeeper.server.SessionTrackerTest.testAddSessionAfterSessionExpiry

We can't let the gate open until we increase the closed session count. Otherwise depends on timing, the test thread might see old session close count value between gate open and the session count actually gets increased.

Author: Michael Han <hanm@apache.org>

Reviewers: Abraham Fine <afine@apache.org>, Rakesh Radhakrishnan <rakeshr@apache.org>

Closes #187 from hanm/ZOOKEEPER-2716"
Michael Han,hanm@apache.org,2017-03-14T16:06:15Z,"ZOOKEEPER-2718: fix flaky StandaloneDisabledTest

The flaky (that existing for a long time) is caused by a ghost server that although not appear in the quorum's config but still up and running and send requests to the quorum {2, 3, 4}. Fix is simply kill the server 1 after it's used. Verified that with the fix the test survive stress test (100+ runs) while w/o the fix the tests fails frequently, on internal Jenkins machine.

ZOOKEEPER-2718: build bot do something please.

Author: Michael Han <hanm@apache.org>

Reviewers: Alexander Shraer <shralex@gmail.com>

Closes #190 from hanm/ZOOKEEPER-2178

(cherry picked from commit 57609043264f651cd2e44afceeca5b5890531161)
Signed-off-by: Michael Han <hanm@apache.org>"
Josh Elser,elserj@apache.org,2017-03-09T01:48:41Z,"ZOOKEEPER-2709: Clarify documentation around the ""auth"" ACL scheme

Not sure if I should include the modified files from the result of `ant docs`. Happy to do so if expected :)

Author: Josh Elser <elserj@apache.org>

Reviewers: Abraham Fine <afine@apache.org>, Michael Han <hanm@apacheorg>

Closes #182 from joshelser/ZOOKEEPER-2709 and squashes the following commits:

4d7b712 [Josh Elser] ZOOKEEPER-2709 Correct usage of ""id"" and ""expression""
057cb18 [Josh Elser] ZOOKEEPER-2709 Clarify documentation around the ""auth"" ACL scheme"
Michael Han,hanm@apache.org,2017-03-04T18:22:03Z,"ZOOKEEPER-2693: DOS attack on wchp/wchc four letter words (4lw)

The previous patch is not valid anymore as design has changed. Update patch based on phunt 's feedback.
See ZOOKEEPER-2693 JIRA for details. This patch is still targeting for branch-3.5 / master. Patch for branch-3.4 will be created shortly.

The gist of the patch is:
* Introduced a new configuration option which encodes a white list of 4lw commands. A 4lw command that is not on the white list will not be enabled on server side.
* For branch-3.5, the default value of the configuration option is empty. We want users to use the alternative AdminServer anyway.

Author: Michael Han <hanm@apache.org>

Reviewers: Rakesh Radhakrishnan <rakeshrapache.org>, Mohammad Arshad <arshad@apache.org>, Flavio Junqueira <fpj@apache.org>, Edward Ribeiro <edward.ribeiro@gmail.com>, Abraham Fine <afine@apache.org>

Closes #179 from hanm/ZOOKEEPER-2693 and squashes the following commits:

1ffd114 [Michael Han] Tweak tests.
b4c421d [Michael Han] ZOOKEEPER-2693: DOS attack on wchp/wchc four letter words (4lw). Introduce a new configuration option 4lw.commands.whitelist that disables all 4lw (except srvr) by default to avoid the exploits reported on wchp/wchc commands."
Abraham Fine,abefine@cloudera.com,2017-02-16T00:16:52Z,"ZOOKEEPER-2692: Fix race condition in testWatchAutoResetWithPending

We occasionally run into an issue with testWatchAutoResetWithPending where we get flaky test behavior due to not being able to reliably predict when the client has received notification from each watch that may be fired (perhaps due to resource contention on the box running the tests). This patch works around that by waiting for a one second quiet period, after which we can more safely assume all watches that will be fired have been fired.

Here is an example of the test failure: https://builds.apache.org/job/ZooKeeper-trunk-jdk8/935/

Author: Abraham Fine <abefine@cloudera.com>

Reviewers: Michael Han <hanm@apache.org>

Closes #171 from afine/ZOOKEEPER-2692

(cherry picked from commit 1912fa8d63e6bbfdb5bb96bec85efa7c94e131e9)
Signed-off-by: Michael Han <hanm@apache.org>"
Mohammad Arshad,arshad@apache.org,2017-02-15T22:04:18Z,"ZOOKEEPER-2687: Deadlock while shutting down the Leader server

Leader server enters into deadlock while shutting down itself. Shutdown of the leader server is called from the synchronized block which must be called from outside the synchronized block. For detail pls refer ZOOKEEPER-2380

Author: Mohammad Arshad <arshad@apache.org>

Reviewers: Abraham Fine <afine@apache.org>, Rakesh Radhakrishnan <rakeshr@apache.org>

Closes #176 from arshadmohammad/ZOOKEEPER-2687 and squashes the following commits:

7551f5c [Mohammad Arshad] Fixed Rakesh's comments
1e3ed70 [Mohammad Arshad] ZOOKEEPER-2687:Deadlock while shutting down the Leader server."
Edward Ribeiro,edward.ribeiro@gmail.com,2017-02-14T08:23:32Z,"ZOOKEEPER-2617: correct a few spelling typos

Hi - this PR contains corrections for some spelling typos.  Most of them appear in comments, but a few appear in documentation and program output.  Thank you for considering it.

Author: tony mancill <tmancilldebian.org>

Reviewers: Flavio Junqueira <fpjapache.org>, Edward Ribeiro <edward.ribeirogmail.com>, Rakesh Radhakrishnan <rakeshrapache.org>

Closes #87 from tmancill/tmancill/spelling-typos

Author: Edward Ribeiro <edward.ribeiro@gmail.com>

Reviewers: Rakesh Radhakrishnan <rakeshr@apache.org>

Closes #174 from eribeiro/ZOOKEEPER-2617

(cherry picked from commit 0816970930bb9565f13d310a1f55636e62cdfd19)
Signed-off-by: Rakesh Radhakrishnan <rakeshr@apache.org>"
Mohammad Arshad,arshad@apache.org,2017-02-13T21:09:59Z,"ZOOKEEPER-2683: RaceConditionTest is flaky

RaceConditionTest assertion is wrong, It fails when old leader becomes leader again.

Author: Mohammad Arshad <arshad@apache.org>

Reviewers: Michael Han <hanm@apache.org>

Closes #175 from arshadmohammad/ZOOKEEPER-2683-03"
randgalt,jordan@jordanzimmerman.com,2017-02-11T23:34:24Z,"ZOOKEEPER-2642: rename ZooKeeper reconfig API to reconfigure API.

Was #122

Author: randgalt <jordan@jordanzimmerman.com>

Reviewers: Michael Han <hanm@apache.org>

Closes #152 from Randgalt/ZOOKEEPER-2642"
Robert (Bobby) Evans,evans@yahoo-inc.com,2017-02-11T23:12:00Z,"ZOOKEEPER-2678: Discovery and Sync can take a very long time on large DBs (master)

This is the master version of #157

Author: Robert (Bobby) Evans <evans@yahoo-inc.com>

Reviewers: Flavio Junqueira <fpj@apache.org>, Edward Ribeiro <edward.ribeiro@gmail.com>, Abraham Fine <afine@apache.org>, Michael Han <hanm@apache.org>

Closes #159 from revans2/ZOOKEEPER-2678-master and squashes the following commits:

69fbe19 [Robert (Bobby) Evans] ZOOKEEPER-2678: Addressed review comments
a432642 [Robert (Bobby) Evans] ZOOKEEPER-2678:  Improved test to verify snapshot times
742367e [Robert (Bobby) Evans] Addressed review comments
f4c5b0e [Robert (Bobby) Evans] ZOOKEEPER-2678: Discovery and Sync can take a very long time on large DBs"
Michael Han,hanm@apache.org,2017-02-10T08:47:36Z,"ZOOKEEPER-2672: Remove CHANGE.txt

The CHANGE.txt is already not the source of truth of what's changed after we migrating to git - most of the git commits in recent couple of months don't update CHANGE.txt. The option of updating CHANGE.txt during commit flow automatically is none trivial, and do that manually is cumbersome and error prone.
The consensus is we would rely on source control revision logs instead of CHANGE.txt moving forward; see https://www.mail-archive.com/devzookeeper.apache.org/msg37108.html for more details.

Target branches: master, 3.5, 3.4.

Author: Michael Han <hanm@apache.org>

Reviewers: Edward Ribeiro <edward.ribeiro@gmail.com>, Flavio Junqueira <fpj@apache.org>, Rakesh Radhakrishnan <rakeshr@apache.org>

Closes #154 from hanm/ZOOKEEPER-2672"
Michael Han,hanm@apache.org,2017-02-09T10:40:23Z,"ZOOKEEPER-2080: Fix deadlock in dynamic reconfiguration

Use explicit fine grained locks for synchronizing access to QuorumVerifier states in QuorumPeer.

Author: Michael Han <hanm@apache.org>

Reviewers: Alexander Shraer <shralex@gmail.com>, Edward Ribeiro <edward.ribeiro@gmail.com>, Flavio Junqueira <fpj@apache.org>

Closes #92 from hanm/ZOOKEEPER-2080 and squashes the following commits:

25f0caf [Michael Han] Further simplify code - suggested by Alex.
08301f4 [Michael Han] Remove QuorumVerifier from connectOne signatures. Get last seen quorum verifier inside connectOne, when needed, instead.
de367bf [Michael Han] Address review comments from Alex and Edward. 1. Use Object instead of byte[0] for lock. Naming and modifier updates as well. 2. Synchronize on the lock object in connectOne, also simplified code a little bit.
8995dd4 [Michael Han] ZOOKEEPER-2080: Fix deadlock in dynamic reconfiguration. Use explicit fine grained locks for synchronizing access to QuorumVerifier states in QuorumPeer."
Mohammad Arshad,arshad@apache.org,2017-02-07T07:53:26Z,"ZOOKEEPER-2682: Make it optional to fail build on test failure

Author: Mohammad Arshad <arshad@apache.org>

Reviewers: Rakesh Radhakrishnan <rakeshr@apache.org>

Closes #163 from arshadmohammad/ZOOKEEPER-2682-master-branch-3.5"
Mohammad Arshad,arshad@apache.org,2017-02-05T06:22:51Z,"ZOOKEEPER-2680: Correct DataNode.getChildren() inconsistent behaviour.

DataNode.getChildren() API behavior should be changed and it should always return empty set if the node does not have any child. Currently this API returns some times null some times empty set.

Author: Mohammad Arshad <arshad@apache.org>

Reviewers: Edward Ribeiro <edward.ribeiro@gmail.com>, Abraham Fine <afine@apache.org>, Michael Han <hanm@apache.org>

Closes #160 from arshadmohammad/ZOOKEEPER-2680-DataNode-getChildren and squashes the following commits:

ff9f105 [Mohammad Arshad] Revert back few changes form DataTree
f2691ca [Mohammad Arshad] Removed Null check from all references of getChildren
7c4592d [Mohammad Arshad] Review comment fix
0dbf350 [Mohammad Arshad] separated test cases
01459c8 [Mohammad Arshad] ZOOKEEPER-2680:Correct DataNode.getChildren() inconsistent behaviour."
Flavio Junqueira,fpj@apache.org,2017-01-28T05:43:53Z,"ZOOKEEPER-2622: ZooTrace.logQuorumPacket does nothing

Author: fpj <fpj@apache.org>

Reviewers: Edward Ribeiro <edward.ribeiro@gmail.com>

Closes #95 from fpj/ZK-2622"
Edward Ribeiro,edward.ribeiro@gmail.com,2017-01-25T11:57:25Z,"ZOOKEEPER-2573: Modify Info.REVISION to adapt git repo

rakeshadr Hi, I have created this PR. The commit can be cherry picked on master too. In fact, I guess when you merge this then #137 will be automatically closed. I tested quickly and was able to cherry-pick this commit on branch-3.4 too, so you may want to give it a try. :smiley:

Author: Edward Ribeiro <edward.ribeiro@gmail.com>
Author: Edward Ribeiro <eribeiro@users.noreply.github.com>

Reviewers: Mohammad Arshad <arshad@apache.org>, Michael Han <hanm@apache.org>

Closes #155 from eribeiro/ZOOKEEPER-2573-3.5

(cherry picked from commit 41da3c8e3c39f81aa0f667199c5f4eb3d5a28adc)
Signed-off-by: Rakesh Radhakrishnan <rakeshr@apache.org>"
Abhishek Rai,abhishek@thoughtspot.com,2017-01-23T01:13:37Z,"ZOOKEEPER-2574: PurgeTxnLog can inadvertently delete required txn log files

… files

This fix includes patch from Ed Rowe for ZOOKEEPER-2420, which is the same
issue as ZOOKEEPER-2574.

Author: Abhishek Rai <abhishek@thoughtspot.com>

Reviewers: Rakesh Radhakrishnan <rakeshr@apache.org>, Arshad Mohammad <mohammad.arshad@huawei.com>, Abraham Fine <abe@abrahamfine.com>, Allan Lyu <lvfangmin@gmail.com>, Michael Han <hanm@apache.org>

Closes #111 from abhishekrai/ZOOKEEPER-2574"
Raghavendra Prabhu,me@rdprabhu.com,2017-01-23T00:42:36Z,"ZOOKEEPER-2633: contrib/zkfuse build fix with gcc 6.2.

The build fails in two places: https://gist.github.com/ronin13/3e08569dd6c69bf2ad92fa39fa85f7ee

One is boost related, and other is due to false being passed where NULL is
required.

JIRA: https://issues.apache.org/jira/browse/ZOOKEEPER-2633

Author: Raghavendra Prabhu <merdprabhu.com>

Author: Raghavendra Prabhu <me@rdprabhu.com>

Reviewers: Michael Han <hanm@apache.org>

Closes #110 from ronin13/c++-build-fix"
tedyu,yuzhihong@gmail.com,2017-01-14T05:32:15Z,"ZOOKEEPER-2664: ClientPortBindTest#testBindByAddress may fail due to ""No such device"" exception

The following stack trace was observed intermittently:
```
Stacktrace

java.net.SocketException: No such device
	at java.net.NetworkInterface.isLoopback0(Native Method)
	at java.net.NetworkInterface.isLoopback(NetworkInterface.java:390)
	at org.apache.zookeeper.test.ClientPortBindTest.testBindByAddress(ClientPortBindTest.java:61)
	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)
Standard Output
```
Proposed fix is to catch exception from isLoopback() call and skip the test in that case.

Author: tedyu <yuzhihong@gmail.com>

Reviewers: Edward Ribeiro <edward.ribeiro@gmail.com>, Michael Han <hanm@apache.org>

Closes #149 from tedyu/master"
Brian Nixon,nixon@fb.com,2017-01-13T18:29:52Z,"ZOOKEEPER-261: Reinitialized servers should not participate in leader election

Author: Brian Nixon <nixon@fb.com>

Reviewers: Michael Han <hanm@apache.org>, Edward Ribeiro <edward.ribeiro@gmail.com>, benjamin reed <breed@apache.org>

Closes #120 from enixon/ZOOKEEPER-261"
Rakesh Radhakrishnan,rakeshr@apache.org,2017-01-11T05:27:38Z,"ZOOKEEPER-2651: Missing src/pom.template in release

Author: Rakesh Radhakrishnan <rakeshr@apache.org>

Reviewers: Edward Ribeiro <edward.ribeiro@gmail.com>, Michael Han <hanm@apache.org>

Closes #145 from rakeshadr/ZOOKEEPER-2651"
Abraham Fine,afine@apache.org,2017-01-09T21:49:46Z,"ZOOKEEPER-2511: Implement AutoCloseable in ZooKeeper.java

Author: Abraham Fine <afine@apache.org>

Reviewers: Edward Ribeiro <edward.ribeiro@gmail.com>, Michael Han <hanm@apache.org>

Closes #143 from afine/ZOOKEEPER-2511

(cherry picked from commit df1e50bbd7d826ca28705bf9e5cdfc883b0bb4b4)
Signed-off-by: Michael Han <hanm@apache.org>"
Benjamin Reed,br33d@fb.com,2017-01-07T00:09:54Z,"ZOOKEEPER-2325: Data inconsistency if all snapshots empty or missing

Author: Benjamin Reed <br33d@fb.com>
Author: Benjamin Reed <breed@apache.org>

Reviewers: Raúl Gutiérrez Segalés <rgs@apache.org>, Michael Han <hanm@apache.org>, Allan Lyu <lvfangmin@gmail.com>

Closes #117 from breed/ZOOKEEPER-2325 and squashes the following commits:

35ce7e2 [Benjamin Reed] address comments from rgs1
68433ae [Benjamin Reed] ZOOKEEPER-2325: Data inconsistency if all snapshots empty or missing"
Michael Han,hanm@apache.org,2017-01-06T12:11:31Z,"ZOOKEEPER-2656: Fix ServerConfigTest#testValidArguments test case.

ServerConfig.getDataDir returns type String in branch-3.4 but return type File in branch-3.5 and master. So we need to deal with this difference accordingly in our test.

This PR is intended to be merged in master, branch-3.5, and branch-3.4.

rakeshadr PTAL

Author: Michael Han <hanm@apache.org>

Reviewers: Edward Ribeiro <edward.ribeiro@gmail.com>, Rakesh Radhakrishnan <rakeshr@apache.org>

Closes #140 from hanm/ZOOKEEPER-2565"
Abraham Fine,afine@apache.org,2017-01-05T21:32:53Z,"ZOOKEEPER-2620: Add comments to testReadOnlySnapshotDir and testReadOnlyTxnLogDir indicating that the tests will fail when run as root

Author: Abraham Fine <afine@apache.org>

Reviewers: Michael Han <hanm@apache.org>

Closes #142 from afine/ZOOKEEPER-2620

(cherry picked from commit b7873a59433b252c54c6c926cda711a6abf55374)
Signed-off-by: Michael Han <hanm@apache.org>"
Edward Ribeiro,edward.ribeiro@gmail.com,2016-12-30T22:58:56Z,"ZOOKEEPER-2465: Documentation copyright notice is out of date.

Author: Edward Ribeiro <edward.ribeiro@gmail.com>

Reviewers: Michael Han <hanm@apache.org>

Closes #138 from eribeiro/ZOOKEEPER-2465

(cherry picked from commit 5c9299d60f66afb00072ebeadead49f4410aa11f)
Signed-off-by: Michael Han <hanm@apache.org>"
arshadmohammad,arshad.mohammad.k@gmail.com,2016-12-30T22:01:55Z,"ZOOKEEPER-2517: jute.maxbuffer is ignored

ZOOKEEPER-2517:jute.maxbuffer is ignored

Author: arshadmohammad <arshad.mohammad.k@gmail.com>

Reviewers: Michael Han <hanm@apache.org>, Rakesh Radhakrishnan <rakeshr@apache.org>

Closes #113 from arshadmohammad/ZOOKEEPER-2517"
Rakesh Radhakrishnan,rakeshr@apache.org,2016-12-23T05:58:23Z,"ZOOKEEPER-2656: Fix ServerConfigTest#testValidArguments test case fai…

…lures

Author: Rakesh Radhakrishnan <rakeshr@apache.org>

Reviewers: Michael Han <hanm@apache.org>

Closes #134 from rakeshadr/ZK-2656"
Rakesh Radhakrishnan,rakeshr@apache.org,2016-12-22T22:23:29Z,"ZOOKEEPER-2655: Improve NIOServerCnxn#isZKServerRunning to reflect the seman…

…tics correctly

Author: Rakesh Radhakrishnan <rakeshr@apache.org>

Reviewers: Edward Ribeiro <edward.ribeiro@gmail.com>, Michael Han <hanm@apache.org>

Closes #133 from rakeshadr/ZK-2655"
Edward Ribeiro,edward.ribeiro@gmail.com,2016-12-22T03:10:14Z,"ZOOKEEPER-2470: ServerConfig#parse(String[]) ignores tickTime

Author: Edward Ribeiro <edward.ribeiro@gmail.com>

Reviewers: Michael Han <hanm@apache.org>, Rakesh Radhakrishnan <rakeshr@apache.org>

Closes #125 from eribeiro/ZOOKEEPER-2470

(cherry picked from commit 5de4fa3d8acdfdac353bb54fcaa8c8e732432891)
Signed-off-by: Michael Han <hanm@apache.org>"
Rakesh Radhakrishnan,rakeshr@apache.org,2016-12-21T22:32:01Z,"ZOOKEEPER-2383: Startup race in ZooKeeperServer

Author: Rakesh Radhakrishnan <rakeshr@apache.org>

Reviewers: fpj <fpj@apache.org>, rgs <rgs@apache.org>, hanm <hanm@apache.org>

Closes #101 from rakeshadr/ZK-2383 and squashes the following commits:

4faa761 [Rakesh Radhakrishnan] ZOOKEEPER-2383: Startup race in ZooKeeperServer
d2078d0 [Rakesh Radhakrishnan] ZOOKEEPER-2383"
Rakesh Radhakrishnan,rakeshr@apache.org,2016-12-20T13:47:25Z,"ZOOKEEPER-2479: Add 'electionTimeTaken' value in LeaderMXBean and FollowerMXBean

Author: Rakesh Radhakrishnan <rakeshr@apache.org>

Reviewers: Edward Ribeiro <edward.ribeiro@gmail.com>, fpj <fpj@apache.org>

Closes #98 from rakeshadr/ZK-2479 and squashes the following commits:

2c9eadf [Rakesh Radhakrishnan] ZOOKEEPER-2479: avoids duplicate code
5af1314 [Rakesh Radhakrishnan] ZOOKEEPER-2479: Fixed Raul's review comments
cc011a0 [Rakesh Radhakrishnan] ZOOKEEPER-2479: Add 'electionTimeTaken' value in LeaderMXBean and FollowerMXBean"
fpj,fpj@apache.org,2016-12-16T13:40:01Z,"ZOOKEEPER-2647: Fix TestReconfigServer.cc

Author: fpj <fpj@apache.org>

Reviewers: rakeshr <rakeshr@apache.org>

Closes #128 from fpj/ZK-2647"
fpj,fpj@apache.org,2016-12-16T09:27:25Z,"ZOOKEEPER-761: Remove *synchronous* calls from the *single-threaded* C client API

JIRA: https://issues.apache.org/jira/browse/ZOOKEEPER-761

Author: breed <breed@apache.org>

Reviewers: fpj <fpj@apache.org>, hanm <hanm@cloudera.com>, rgs <rgs@apache.org>"
fpj,fpj@apache.org,2016-12-11T20:08:45Z,ZOOKEEPER-2635: Regenerate documentation (fpj)
Michael Han,hanm@cloudera.com,2016-12-03T17:09:06Z,"ZOOKEEPER-2627: Remove ZRWSERVERFOUND from C client.

JIRA: https://issues.apache.org/jira/browse/ZOOKEEPER-2627

* Remove ZRWSERVERFOUND from C client to maintain consistency of error codes definition between Java / C client.
* Make C client behavior more conforming with Java client in RO mode by having an explicit RW server address and use that address whenever it's available.

Author: Michael Han <hanm@cloudera.com>

Reviewers: breed <breed@apache.org>, rgs <rgs@apache.org>

Closes #100 from hanm/ZOOKEEPER-2627"
Michael Han,hanm@cloudera.com,2016-11-25T06:08:55Z,"ZOOKEEPER-2636: Fix C client build break.

JIRA: https://issues.apache.org/jira/browse/ZOOKEEPER-2636

Fix build break by reverting the changes made to JRecord.genCCode in ZOOKEEPER-2686, which prematurely closed the file writers that prevents zookeeper.jute.h and zookeeper.jute.c files from complete generation.

Author: Michael Han <hanm@cloudera.com>

Reviewers: fpj <fpj@apache.org>

Closes #115 from hanm/ZOOKEEPER-2636"
Michael Han,hanm@cloudera.com,2016-11-24T16:18:08Z,"ZOOKEEPER-2628: Fix findbug warnings.

This PR fixed 19 find bug warnings and disabled one find bug warning:

Malicious code vulnerability Warnings
org.apache.zookeeper.ZooDefs$Ids.OPEN_ACL_UNSAFE is a mutable collection
Bug type MS_MUTABLE_COLLECTION (click for details)
In class org.apache.zookeeper.ZooDefs$Ids
Field org.apache.zookeeper.ZooDefs$Ids.OPEN_ACL_UNSAFE
At ZooDefs.java:[line 116]

We will use ZOOKEEPER-1362 for fixing this specific warning, which might require change to ZooDefs interface.

Author: Michael Han <hanm@cloudera.com>

Reviewers: fpj <fpj@apache.org>, breed <breed@apache.org>, Edward Ribeiro <edward.ribeiro@gmail.com>, Allan Lyu <lvfangmin@gmail.com>

Closes #102 from hanm/ZOOKEEPER-2628"
Patrick Hunt,phunt@apache.org,2016-11-18T22:04:03Z,"ZOOKEEPER-2632: Add option to inform JIRA_PASSWORD at CLI prompt (Edward Ribeiro via phunt)

Change-Id: I4b2afec4c10623945d9337e4df8d3313496979ae"
randgalt,jordan@jordanzimmerman.com,2016-11-16T05:21:09Z,"ZOOKEEPER-1525: Plumb ZooKeeperServer object into auth plugins

Based on patch work from https://issues.apache.org/jira/browse/ZOOKEEPER-1525

Created ServerAuthenticationProvider which has a method to accept the ZooKeeper
server so that auth can be done using values in the ZK database. As this is a new
interface, existing implementations aren't affected helping backward compatibility

Author: randgalt <jordan@jordanzimmerman.com>

Reviewers: fpj <fpj@apache.org>, Allan Lyu <lvfangmin@gmail.com>

Closes #84 from Randgalt/ZOOKEEPER-1525"
Michael Han,hanm@cloudera.com,2016-11-13T19:59:29Z,"ZOOKEEPER-2014: Only admin should be allowed to reconfig a cluster.

This PR implements ZOOKEEPER-2014. For details, please refer to

JIRA: https://issues.apache.org/jira/browse/ZOOKEEPER-2014
Review board: https://reviews.apache.org/r/51546/

Author: Michael Han <hanm@cloudera.com>

Reviewers: fpj <fpj@apache.org>, breed <breed@apache.org>, rgs <rgs@itevenworks.net>

Closes #96 from hanm/ZOOKEEPER-2014"
Raul Gutierrez Segales,rgs@apache.org,2016-11-13T03:53:43Z,"ZOOKEEPER-2631: Make issue extraction in the git pull request script
more robust (Flavio P. Junqueira via rgs)"
Raul Gutierrez Segales,rgs@apache.org,2016-10-31T12:13:59Z,"ZOOKEEPER-2624: Add test script for pull requests

(fpj via rgs)"
Alexander Shraer,shralex@gmail.com,2016-11-03T15:07:36Z,ZOOKEEPER-2556: peerType not removed from static config file (Rakesh Kumar Singh via shralex).
Edward Ribeiro,edward.ribeiro@gmail.com,2016-10-26T02:06:02Z,"ZOOKEEPER-2597: Add script to merge PR from Apache git repo to Github

Author: Edward Ribeiro <edward.ribeiro@gmail.com>

Reviewers: Benjamin Reed <breed@apache.org>

Closes #85 from eribeiro/ZOOKEEPER-2597"
fpj,fpj@apache.org,2016-10-17T08:27:16Z,ZOOKEEPER-2606: SaslServerCallbackHandler#handleAuthorizeCallback() should log the exception (Ted Yu via fpj)
Rakesh Radhakrishnan,rakeshr@apache.org,2016-10-16T12:21:43Z,ZOOKEEPER-2467: NullPointerException when redo Command is passed negative value (Rakesh Kumar Singh via rakeshr)
Raul Gutierrez Segales,rgs@apache.org,2016-10-09T20:40:36Z,"ZOOKEEPER-2611: zoo_remove_watchers - can remove the wrong watch
(Eyal Leshmem via rgs)"
Camille Fournier,camille@apache.org,2016-10-08T17:28:05Z,ZOOKEEPER-2169. Enable creation of nodes with TTLs. (Jordan Zimmerman via camille)
Camille Fournier,camille@apache.org,2016-10-07T19:51:52Z,ZOOKEEPER-2169. Enable creation of nodes with TTLs. (Jordan Zimmerman via camille)
Patrick Hunt,phunt@apache.org,2016-10-05T16:30:00Z,"ZOOKEEPER-2594: Use TLS for downloading artifacts during build (Olaf Flebbe via phunt)

Change-Id: I36e634370553710030772abba328cf2b691fa888"
Patrick Hunt,phunt@apache.org,2016-09-18T21:21:51Z,"ZOOKEEPER-2579: ZooKeeper server should verify that dataDir and snapDir are writeable before starting (Abraham Fine via phunt)

Change-Id: I2cf47cfa304057423650c0a30eab47e7acd10223"
Raul Gutierrez Segales,rgs@apache.org,2016-09-13T03:21:06Z,"ZOOKEEPER-2576: Missing changes (cleanup build.xml)
(Patrick Hunt via rgs)"
Raul Gutierrez S,rgs@pinterest.com,2016-09-12T17:13:42Z,"ZOOKEEPER-2576: After svn to git migration ZooKeeper Precommit jenkins job is failing
(Patrick Hunt via rgs)"
Patrick D. Hunt,phunt@apache.org,2016-09-08T22:10:09Z,"ZOOKEEPER-2484: Flaky Test: org.apache.zookeeper.test.LoadFromLogTest.testLoadFailure (Michael Han via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1759917 13f79535-47bb-0310-9956-ffa450edef68"
Chris Nauroth,cnauroth@apache.org,2016-09-08T21:38:14Z,"ZOOKEEPER-2557: Update gitignore to account for other file extensions. (Edward Ribeiro via cnauroth)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1759912 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2016-09-08T20:59:36Z,"ZOOKEEPER-2172: Cluster crashes when reconfig a new node as a participant (Arshad Mohammad via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1759907 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2016-09-08T20:52:26Z,"ZOOKEEPER-1962: Add a CLI command to recursively list a znode and children (Gautam Gopalakrishnan, Hongchao Deng, Enis Soztutar via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1759904 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2016-09-08T14:33:59Z,"ZOOKEEPER-2507: C unit test improvement: line break between 'ZooKeeper server started' and 'Running' (Michael Han via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1759839 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2016-09-08T14:21:26Z,"ZOOKEEPER-2539: Throwing nullpointerException when run the command config -c"" when client port is mentioned as separate and not like new style (Rakesh Kumar Singh via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1759835 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2016-09-08T04:02:37Z,"ZOOKEEPER-2536: When provide path for 'dataDir' with trailing space, it is taking correct path (by trucating space) for snapshot but creating temporary file with some junk folder name for zookeeper_server.pid (Rakesh Kumar Singh via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1759739 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2016-09-08T02:57:36Z,"ZOOKEEPER-2558: Potential memory leak in recordio.c (Michael Han via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1759735 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2016-09-07T22:12:19Z,"ZOOKEEPER-2548: zooInspector does not start on Windows (Arshad Mohammad via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1759719 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2016-08-25T00:23:55Z,"ZOOKEEPER-2489: Upgrade Jetty dependency to a recent stable release version. (Edward Ribeiro via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1757584 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2016-08-24T18:33:36Z,"ZOOKEEPER-2152: Intermittent failure in TestReconfig.cc (Michael Han via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1757564 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2016-08-23T23:36:09Z,"ZOOKEEPER-2508: Many ZooKeeper tests are flaky because they proceed with zk operation without connecting to ZooKeeper server. (Arshad Mohammad via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1757452 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2016-08-23T23:03:58Z,"ZOOKEEPER-2505: Use shared library instead of static library in C client unit test (Michael Han via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1757450 13f79535-47bb-0310-9956-ffa450edef68"
Flavio Paiva Junqueira,fpj@apache.org,2016-08-13T13:01:51Z,"ZOOKEEPER-2247: Zookeeper service becomes unavailable when leader fails to write transaction log (Rakesh via fpj)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1756262 13f79535-47bb-0310-9956-ffa450edef68"
Flavio Paiva Junqueira,fpj@apache.org,2016-08-10T21:01:21Z,"Fix command handling in the C client shell (phunt via fpj)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1755857 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2016-08-10T17:32:22Z,"ZOOKEEPER-2074: Incorrect exit codes for './zkCli.sh cmd arg' (Abraham Fine via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1755786 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2016-08-05T21:05:32Z,"ZOOKEEPER-2500: Fix compilation warnings for CliException classes (Abraham Fine via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1755379 13f79535-47bb-0310-9956-ffa450edef68"
Raúl Gutiérrez Segalés,rgs@apache.org,2016-08-03T18:16:19Z,"ZOOKEEPER-2498: Potential resource leak in C client when processing
unexpected / out of order response (Michael Han via rgs)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1755100 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2016-07-29T23:02:27Z,"ZOOKEEPER-1256: ClientPortBindTest is failing on Mac OS X (Camille via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1754582 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2016-07-29T22:00:43Z,"ZOOKEEPER-2477: documentation should refer to Java cli shell and not C cli shell (Abraham Fine via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1754578 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2016-07-26T23:33:27Z,"ZOOKEEPER-1898: ZooKeeper Java cli shell always returns 0 as exit code (Abraham Fine via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1754188 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2016-07-26T22:26:47Z,"INFRA-12327 ZooKeeper pre-commit build failed due to build bot failed to post comments to JIRA (phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1754187 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2016-06-30T04:06:00Z,"ZOOKEEPER-2459: Update NOTICE file with Netty notice (fpj via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1750739 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2016-06-30T03:54:30Z,"ZOOKEEPER-2458: Remove license file for servlet-api dependency (fpj via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1750737 13f79535-47bb-0310-9956-ffa450edef68"
Chris Nauroth,cnauroth@apache.org,2016-06-23T21:45:43Z,"ZOOKEEPER-2366: Reconfiguration of client port causes a socket leak. (fpj via cnauroth)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1750025 13f79535-47bb-0310-9956-ffa450edef68"
Chris Nauroth,cnauroth@apache.org,2016-06-23T21:25:34Z,"ZOOKEEPER-2380: Deadlock between leader shutdown and forwarding ACK to the leader. (Arshad Mohammad via cnauroth)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1750022 13f79535-47bb-0310-9956-ffa450edef68"
Flavio Paiva Junqueira,fpj@apache.org,2016-06-23T17:42:11Z,"ZOOKEEPER-2297: NPE is thrown while creating ""key manager"" and ""trust manager"" (Arshad Mohammad via fpj)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1749951 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2016-06-15T20:30:05Z,"ZOOKEEPER-2433: ZooKeeperSaslServer: allow user principals in subject (Andy B via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1748630 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2016-06-15T17:11:39Z,"ZOOKEEPER-2137: Make testPortChange() less flaky (Michael Han via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1748608 13f79535-47bb-0310-9956-ffa450edef68"
Raúl Gutiérrez Segalés,rgs@apache.org,2016-06-08T15:43:15Z,"ZOOKEEPER-2442: Socket leak in QuorumCnxManager connectOne
(Michael Han via rgs)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1747408 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2016-06-01T22:59:24Z,"ZOOKEEPER-2410: add time unit to 'ELECTION TOOK' log.info message (Christine Poerschke via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1746511 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2016-05-25T20:44:35Z,"ZOOKEEPER-2405: getTGT() in Login.java mishandles confidential information (Michael Han via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1745534 13f79535-47bb-0310-9956-ffa450edef68"
Flavio Paiva Junqueira,fpj@apache.org,2016-05-23T21:30:27Z,"ZOOKEEPER-2402: Document client side properties (Arshad Mohammad via fpj)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1745279 13f79535-47bb-0310-9956-ffa450edef68"
Alexander Shraer,shralex@apache.org,2016-05-15T21:31:54Z,"ZOOKEEPER-2024 Major throughput improvement with mixed workloads (Kfir Lev-Ari via shralex)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1743978 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2016-05-05T20:50:39Z,"ZOOKEEPER-2423: Upgrade Netty version due to security vulnerability (CVE-2014-3488) (Michael Han via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1742472 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2016-05-03T18:27:12Z,"ZOOKEEPER-2235 License update - fix servlet-api license (fpj via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1742171 13f79535-47bb-0310-9956-ffa450edef68"
Flavio Paiva Junqueira,fpj@apache.org,2016-05-02T16:15:28Z,"ZOOKEEPER-2139: Support multiple ZooKeeper client with different configurations in a single JVM (Arshad Mohammad via fpj)



git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1742002 13f79535-47bb-0310-9956-ffa450edef68"
Flavio Paiva Junqueira,fpj@apache.org,2016-04-24T21:21:34Z,"ZOOKEEPER-2413: ContainerManager doesn't close the Timer it creates when stop() is called (Jordan via fpj)



git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1740738 13f79535-47bb-0310-9956-ffa450edef68"
Camille Fournier,camille@apache.org,2016-04-06T18:06:30Z,"ZOOKEEPER-2141 ACL cache in DataTree never removes entries (Adam Milne-Smith via camille)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1738012 13f79535-47bb-0310-9956-ffa450edef68"
Camille Fournier,camille@apache.org,2016-03-22T23:30:42Z,"ZOOKEEPER-2141. ACL cache in DataTree never removes entries
(Adam Milne-Smith via camille)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1736259 13f79535-47bb-0310-9956-ffa450edef68"
Chris Nauroth,cnauroth@apache.org,2016-03-21T20:43:52Z,"ZOOKEEPER-2364: ""ant docs"" fails on branch-3.5 due to missing releasenotes.xml. (phunt via cnauroth)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1736090 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2016-03-20T18:31:58Z,"ZOOKEEPER-2195 fsync.warningthresholdms in zoo.cfg not working (Biju Nair via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1735892 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2016-03-20T04:23:03Z,"ZOOKEEPER-2240 Make the three-node minimum more explicit in documentation and on website (Shawn Heisey and Arshad Mohammad via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1735836 13f79535-47bb-0310-9956-ffa450edef68"
Chris Nauroth,cnauroth@apache.org,2016-03-19T21:48:11Z,"ZOOKEEPER-2393: Revert run-time dependency on log4j and slf4j-log4j12 (Arshad Mohammad via cnauroth)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1735820 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2016-03-18T17:22:23Z,"ZOOKEEPER-2392 Update netty to 3.7.1.Final (Hendy Irawan via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1735646 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2016-03-17T06:13:02Z,"ZOOKEEPER-2388 Unit tests failing on Solaris (Arshad Mohammad via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1735369 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2016-03-15T16:03:37Z,"ZOOKEEPER-2385 Zookeeper trunk build is failing on windows (Arshad Mohammad via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1735116 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2016-03-14T06:50:03Z,"ZOOKEEPER-2283 traceFile property is not used in the ZooKeeper, it should be removed from documentation (Arshad Mohammad via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1734881 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2016-03-11T06:48:06Z,"Added some CHANGES details that I missed in recent commits. (phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1734501 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2016-03-11T06:33:27Z,"ZOOKEEPER-2133 zkperl: Segmentation fault if getting a node with null value (Botond Hejj via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1734498 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2016-03-10T04:28:23Z,"ZOOKEEPER-2087 Few UX improvements in ZooInspector (Adam Dudczak via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1734346 13f79535-47bb-0310-9956-ffa450edef68"
Chris Nauroth,cnauroth@apache.org,2016-03-05T00:03:57Z,"ZOOKEEPER-2379: recent commit broke findbugs qabot check (rakeshr via cnauroth)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1733679 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2016-03-03T21:16:24Z,"ZOOKEEPER-2373 Licenses section missing from pom file - part 2 missed an added file (phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1733525 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2016-03-03T17:56:52Z,"ZOOKEEPER-2373 Licenses section missing from pom file (phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1733508 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2016-03-03T17:54:45Z,"ZOOKEEPER-2378 upgrade ivy to recent version (phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1733505 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2016-03-03T17:26:47Z,"ZOOKEEPER-2294 Ant target generate-clover-reports is broken (charlie via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1733499 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2016-03-03T16:12:55Z,"ZOOKEEPER-1604 remove rpm/deb/... packaging (cnauroth via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1733489 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2016-03-02T18:29:08Z,"ZOOKEEPER-1991 zkServer.sh returns with a zero exit status when a ZooKeeper process is already running (gsbiju via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1733348 13f79535-47bb-0310-9956-ffa450edef68"
Rakesh Radhakrishnan,rakeshr@apache.org,2016-03-02T06:46:43Z,"ZOOKEEPER-2375: Prevent multiple initialization of login object in each ZooKeeperSaslClient instance (yuemeng via rakeshr)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1733221 13f79535-47bb-0310-9956-ffa450edef68"
Chris Nauroth,cnauroth@apache.org,2016-02-08T21:32:41Z,"ZOOKEEPER-2243: Supported platforms is completely out of date (cnauroth)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1729259 13f79535-47bb-0310-9956-ffa450edef68"
Chris Nauroth,cnauroth@apache.org,2016-02-05T00:31:51Z,"ZOOKEEPER-2360: Update commons collections version used by tests/releaseaudit (phunt via cnauroth)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1728577 13f79535-47bb-0310-9956-ffa450edef68"
Rakesh Radhakrishnan,rakeshr@apache.org,2016-01-23T05:06:58Z,"Revert ZOOKEEPER-2297

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1726354 13f79535-47bb-0310-9956-ffa450edef68"
Rakesh Radhakrishnan,rakeshr@apache.org,2016-01-21T06:07:04Z,"ZOOKEEPER-2297: NPE is thrown while creating ""key manager"" and ""trust manager"" (Arshad Mohammad via rakeshr)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1725872 13f79535-47bb-0310-9956-ffa450edef68"
Chris Nauroth,cnauroth@apache.org,2015-12-15T19:15:30Z,"ZOOKEEPER-412: checkstyle target fails trunk build (Akihiro Suda via cnauroth)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1720227 13f79535-47bb-0310-9956-ffa450edef68"
Chris Nauroth,cnauroth@apache.org,2015-12-11T20:14:28Z,"ZOOKEEPER-1029: C client bug in zookeeper_init (if bad hostname is given) (fpj via cnauroth)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1719528 13f79535-47bb-0310-9956-ffa450edef68"
Chris Nauroth,cnauroth@apache.org,2015-12-10T20:42:50Z,"ZOOKEEPER-2252: Random test case failure in org.apache.zookeeper.test.StaticHostProviderTest (Timothy Ward via cnauroth)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1719204 13f79535-47bb-0310-9956-ffa450edef68"
Raúl Gutiérrez Segalés,rgs@apache.org,2015-12-10T05:28:07Z,"ZOOKEEPER-2340: JMX is disabled even if JMXDISABLE is false
(Arshad Mohammad via rgs)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1719011 13f79535-47bb-0310-9956-ffa450edef68"
Raúl Gutiérrez Segalés,rgs@apache.org,2015-12-09T04:05:19Z,"ZOOKEEPER-2295: TGT refresh time logic is wrong
(Arshad Mohammad via rgs)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1718758 13f79535-47bb-0310-9956-ffa450edef68"
Raúl Gutiérrez Segalés,rgs@apache.org,2015-12-08T04:52:45Z,"ZOOKEEPER-2336: Jenkins not working due to old SVN
(Akihiro Suda via rgs)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1718511 13f79535-47bb-0310-9956-ffa450edef68"
Raúl Gutiérrez Segalés,rgs@apache.org,2015-12-07T05:26:27Z,"ZOOKEEPER-2300: Expose SecureClientPort and SecureClientAddress JMX properties
(Arshad Mohammad via rgs)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1718255 13f79535-47bb-0310-9956-ffa450edef68"
Raúl Gutiérrez Segalés,rgs@apache.org,2015-12-07T05:06:45Z,"ZOOKEEPER-2299: NullPointerException in LocalPeerBean for ClientAddress
(Arshad Mohammad via rgs)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1718253 13f79535-47bb-0310-9956-ffa450edef68"
Raúl Gutiérrez Segalés,rgs@apache.org,2015-12-07T04:59:37Z,"ZOOKEEPER-2301: QuorumPeer does not listen on passed client IP in the constructor
(Arshad Mohammad via rgs)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1718251 13f79535-47bb-0310-9956-ffa450edef68"
Raúl Gutiérrez Segalés,rgs@apache.org,2015-12-06T20:37:20Z,"ZOOKEEPER-2304: JMX ClientPort from ZooKeeperServerBean incorrect
(Arshad Mohammad via rgs)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1718214 13f79535-47bb-0310-9956-ffa450edef68"
Raúl Gutiérrez Segalés,rgs@apache.org,2015-12-06T20:30:07Z,"ZOOKEEPER-2306: Remove file delete duplicate code from test code
(Arshad Mohammad via rgs)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1718212 13f79535-47bb-0310-9956-ffa450edef68"
Raúl Gutiérrez Segalés,rgs@apache.org,2015-12-06T19:21:07Z,"ZOOKEEPER-2311: assert in setup_random
(Marshall McMullen via rgs)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1718207 13f79535-47bb-0310-9956-ffa450edef68"
Raúl Gutiérrez Segalés,rgs@apache.org,2015-12-06T18:58:29Z,"ZOOKEEPER-2335: Java Compilation Error in ClientCnxn.java
(Arshad Mohammad via rgs)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1718205 13f79535-47bb-0310-9956-ffa450edef68"
Raúl Gutiérrez Segalés,rgs@apache.org,2015-12-05T21:43:26Z,"ZOOKEEPER-2326: Include connected server address:port in log
(Arshad Mohammad via rgs)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1718123 13f79535-47bb-0310-9956-ffa450edef68"
Raúl Gutiérrez Segalés,rgs@apache.org,2015-12-05T21:32:41Z,"ZOOKEEPER-2330: ZooKeeper close API does not close Login thread
(Arshad Mohammad via rgs)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1718121 13f79535-47bb-0310-9956-ffa450edef68"
Raúl Gutiérrez Segalés,rgs@apache.org,2015-11-21T23:33:59Z,"ZOOKEEPER-2329: Clear javac and javadoc warning from zookeeper
(Arshad Mohammad via rgs)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1715590 13f79535-47bb-0310-9956-ffa450edef68"
Raúl Gutiérrez Segalés,rgs@apache.org,2015-11-21T21:18:10Z,"ZOOKEEPER-1371: Remove dependency on log4j in the source code
(Arshad Mohammad via rgs)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1715577 13f79535-47bb-0310-9956-ffa450edef68"
Raúl Gutiérrez Segalés,rgs@apache.org,2015-11-21T20:01:15Z,"ZOOKEEPER-1929: std::length_error on update children
(Charles Strahan via rgs)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1715557 13f79535-47bb-0310-9956-ffa450edef68"
Raúl Gutiérrez Segalés,rgs@apache.org,2015-11-11T07:58:07Z,"ZOOKEEPER-2229: Several four-letter words are undocumented
(Chris Nauroth via rgs)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1713774 13f79535-47bb-0310-9956-ffa450edef68"
Raúl Gutiérrez Segalés,rgs@apache.org,2015-11-08T23:23:05Z,"ZOOKEEPER-2240: Make the three-node minimum more explicit in documentation
and on website (Shawn Heisey via rgs)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1713320 13f79535-47bb-0310-9956-ffa450edef68"
Raúl Gutiérrez Segalés,rgs@apache.org,2015-11-08T23:05:49Z,"ZOOKEEPER-2315: Change client connect zk service timeout log level from Info
to Warn level (Lin Yiqun via rgs)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1713312 13f79535-47bb-0310-9956-ffa450edef68"
Raúl Gutiérrez Segalés,rgs@apache.org,2015-11-08T21:54:06Z,"ZOOKEEPER-1853: zkCli.sh can't issue a CREATE command containing
spaces in the data (Ryan Lamore via rgs)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1713303 13f79535-47bb-0310-9956-ffa450edef68"
Raúl Gutiérrez Segalés,rgs@apache.org,2015-11-08T21:36:17Z,"ZOOKEEPER-2227: stmk four-letter word fails execution at server while
reading trace mask argument (Chris Nauroth via rgs)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1713300 13f79535-47bb-0310-9956-ffa450edef68"
Raúl Gutiérrez Segalés,rgs@apache.org,2015-11-08T21:21:38Z,"ZOOKEEPER-2211: PurgeTxnLog does not correctly purge when snapshots and
logs are at different locations (Arshad Mohammad via rgs)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1713296 13f79535-47bb-0310-9956-ffa450edef68"
Raúl Gutiérrez Segalés,rgs@apache.org,2015-11-03T07:11:27Z,"ZOOKEEPER-1872: QuorumPeer is not shutdown in few cases
(Rakesh R. via rgs)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1712218 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2015-10-31T22:18:39Z,"ZOOKEEPER-2142: JMX ObjectName is incorrect for observers (Edward Ribeiro via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1711694 13f79535-47bb-0310-9956-ffa450edef68"
Flavio Paiva Junqueira,fpj@apache.org,2015-10-28T21:54:09Z,"ZOOKEEPER-2302: Some test cases are not running because wrongly named (Arshad Mohammad via fpj)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1711151 13f79535-47bb-0310-9956-ffa450edef68"
Chris Nauroth,cnauroth@apache.org,2015-10-18T17:00:41Z,"ZOOKEEPER-1460: IPv6 literal address not supported for quorum members (Joseph Walton via cnauroth)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1709293 13f79535-47bb-0310-9956-ffa450edef68"
Chris Nauroth,cnauroth@apache.org,2015-10-03T21:07:25Z,"ZOOKEEPER-2281: ZK Server startup fails if there are spaces in the JAVA_HOME path (Neha Bathra via cnauroth)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1706631 13f79535-47bb-0310-9956-ffa450edef68"
Chris Nauroth,cnauroth@apache.org,2015-10-03T21:02:32Z,"ZOOKEEPER-2268: Zookeeper doc creation fails on windows (Arshad Mohammad via cnauroth)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1706628 13f79535-47bb-0310-9956-ffa450edef68"
Rakesh Radhakrishnan,rakeshr@apache.org,2015-09-29T01:56:44Z,"ZOOKEEPER-2244: On Windows zookeeper fails to restart (Arshad Mohammad via rakeshr)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1705794 13f79535-47bb-0310-9956-ffa450edef68"
Raúl Gutiérrez Segalés,rgs@apache.org,2015-09-26T20:22:25Z,"ZOOKEEPER-2253: C asserts ordering of ping requests, while Java client does not
(Chris Chen via rgs)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1705482 13f79535-47bb-0310-9956-ffa450edef68"
Rakesh Radhakrishnan,rakeshr@apache.org,2015-09-25T06:49:38Z,"ZOOKEEPER-1803: Add description for pzxid in programmer's guide(Arshad Mohammad via rakeshr)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1705225 13f79535-47bb-0310-9956-ffa450edef68"
Rakesh Radhakrishnan,rakeshr@apache.org,2015-09-25T06:33:36Z,"ZOOKEEPER-2279: QuorumPeer loadDataBase() error message is incorrect(Arshad Mohammad via rakeshr)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1705221 13f79535-47bb-0310-9956-ffa450edef68"
Chris Nauroth,cnauroth@apache.org,2015-09-11T05:56:55Z,"ZOOKEEPER-2040: Server to log underlying cause of SASL connection problems. (Steve Loughran via cnauroth)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1702378 13f79535-47bb-0310-9956-ffa450edef68"
Raúl Gutiérrez Segalés,rgs@apache.org,2015-09-10T04:35:52Z,"ZOOKEEPER-2269: NullPointerException in RemotePeerBean
(Arshad Mohammad via rgs)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1702163 13f79535-47bb-0310-9956-ffa450edef68"
Raúl Gutiérrez Segalés,rgs@apache.org,2015-09-10T04:07:41Z,"ZOOKEEPER-2270: Allow MBeanRegistry to be overridden for better unit tests
(Jordan Zimmerman via rgs)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1702156 13f79535-47bb-0310-9956-ffa450edef68"
Rakesh Radhakrishnan,rakeshr@apache.org,2015-09-06T18:02:42Z,"ZOOKEEPER-2264: Wrong error message when secureClientPortAddress is configured but secureClientPort is not configured (Arshad Mohammad via rakeshr)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1701505 13f79535-47bb-0310-9956-ffa450edef68"
Rakesh Radhakrishnan,rakeshr@apache.org,2015-08-27T04:13:49Z,"ZOOKEEPER-2256: Zookeeper is not using specified JMX port in zkEnv.sh(Arshad Mohammad via rakeshr)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1698058 13f79535-47bb-0310-9956-ffa450edef68"
Raúl Gutiérrez Segalés,rgs@apache.org,2015-08-25T05:11:15Z,"ZOOKEEPER-1927: zkServer.sh fails to read dataDir (and others)
from zoo.cfg on Solaris 10 (grep issue, manifests as FAILED TO WRITE PID)
(Chris Nauroth via rgs)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1697551 13f79535-47bb-0310-9956-ffa450edef68"
Raúl Gutiérrez Segalés,rgs@apache.org,2015-08-23T17:12:03Z,"ZOOKEEPER-2245: SimpleSysTest test cases fails
(Arshad Mohammad via rgs)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1697227 13f79535-47bb-0310-9956-ffa450edef68"
Raúl Gutiérrez Segalés,rgs@apache.org,2015-08-05T20:16:29Z,"ZOOKEEPER-2239: JMX State from LocalPeerBean incorrect
(Kevin Lee via rgs)

Signed-off-by: Raul Gutierrez S <rgs@itevenworks.net>

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1694317 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2015-07-28T04:35:27Z,"ZOOKEEPER-2235 License update (fpj via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1692989 13f79535-47bb-0310-9956-ffa450edef68"
Raúl Gutiérrez Segalés,rgs@apache.org,2015-07-10T06:19:22Z,"ZOOKEEPER-1423: 4lw and jmx should expose the size of the datadir/datalogdir
(Edward Ribeiro via rgs)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1690207 13f79535-47bb-0310-9956-ffa450edef68"
Raúl Gutiérrez Segalés,rgs@apache.org,2015-07-07T05:11:49Z,"ZOOKEEPER-2223: support method-level JUnit testcase
(Akihiro Suda via rgs)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1689571 13f79535-47bb-0310-9956-ffa450edef68"
Rakesh Radhakrishnan,rakeshr@apache.org,2015-07-05T04:05:33Z,"ZOOKEEPER-2224: Four letter command hangs when network is slow (Arshad Mohammad via rakeshr)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1689211 13f79535-47bb-0310-9956-ffa450edef68"
Raúl Gutiérrez Segalés,rgs@apache.org,2015-06-30T18:50:11Z,"ZOOKEEPER-2221: Zookeeper JettyAdminServer server should start on configured IP
(Surendra Singh Lilhore via rgs)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1688505 13f79535-47bb-0310-9956-ffa450edef68"
Raúl Gutiérrez Segalés,rgs@apache.org,2015-06-28T19:09:49Z,"ZOOKEEPER-2140: NettyServerCnxn and NIOServerCnxn code should be improved
(Arshad Mohammad via rgs)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1688041 13f79535-47bb-0310-9956-ffa450edef68"
Raúl Gutiérrez Segalés,rgs@apache.org,2015-06-27T00:03:30Z,"ZOOKEEPER-2193: reconfig command completes even if parameter is wrong obviously
(Yasuhito Fukuda via rgs)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1687876 13f79535-47bb-0310-9956-ffa450edef68"
Raúl Gutiérrez Segalés,rgs@apache.org,2015-06-22T00:18:57Z,"ZOOKEEPER-2210: clock_gettime is not available in OS X
(Michi Mutsuzaki via rgs)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1686767 13f79535-47bb-0310-9956-ffa450edef68"
Raúl Gutiérrez Segalés,rgs@apache.org,2015-06-18T19:23:18Z,"ZOOKEEPER-2185: Run server with -XX:+HeapDumpOnOutOfMemoryError and
-XX:OnOutOfMemoryError='kill %p' (Chris Nauroth via rgs)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1686296 13f79535-47bb-0310-9956-ffa450edef68"
Raúl Gutiérrez Segalés,rgs@apache.org,2015-06-15T23:05:25Z,"ZOOKEEPER-2212: distributed race condition related to QV version
(Akihiro Suda via rgs)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1685685 13f79535-47bb-0310-9956-ffa450edef68"
Raúl Gutiérrez Segalés,rgs@apache.org,2015-06-13T00:42:49Z,"ZOOKEEPER-706: Large numbers of watches can cause session re-establishment to fail
(Chris Thunes via rgs)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1685200 13f79535-47bb-0310-9956-ffa450edef68"
Raúl Gutiérrez Segalés,rgs@apache.org,2015-06-12T21:02:55Z,"ZOOKEEPER-2214: Findbugs warning: LearnerHandler.packetToString Dead
store to local variable (Hongchao Deng via rgs)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1685167 13f79535-47bb-0310-9956-ffa450edef68"
Raúl Gutiérrez Segalés,rgs@apache.org,2015-06-11T18:09:19Z,"ZOOKEEPER-2213: Empty path in Set crashes server and prevents restart
(Hongchao Deng via rgs)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1684956 13f79535-47bb-0310-9956-ffa450edef68"
Raúl Gutiérrez Segalés,rgs@apache.org,2015-06-06T01:48:52Z,"ZOOKEEPER-2201: Network issues can cause cluster to hang due to near-deadlock
(Donny Nadolny via rgs)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1683878 13f79535-47bb-0310-9956-ffa450edef68"
Raúl Gutiérrez Segalés,rgs@apache.org,2015-06-05T19:28:23Z,"ZOOKEEPER-2208: Log type of unexpected quorum packet in observer loop
(update CHANGES.txt) (Akihiro Suda via rgs)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1683851 13f79535-47bb-0310-9956-ffa450edef68"
Raúl Gutiérrez Segalés,rgs@apache.org,2015-06-05T19:25:41Z,"ZOOKEEPER-2208: Log type of unexpected quorum packet in observer loop
(Akihiro Suda via rgs)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1683850 13f79535-47bb-0310-9956-ffa450edef68"
Raúl Gutiérrez Segalés,rgs@apache.org,2015-06-05T19:15:36Z,"ZOOKEEPER-2207: Enhance error logs with LearnerHandler.packetToString()
(Hitoshi Mitake via rgs)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1683848 13f79535-47bb-0310-9956-ffa450edef68"
Raúl Gutiérrez Segalés,rgs@apache.org,2015-06-05T18:51:44Z,"ZOOKEEPER-2206: Add missing packet types to LearnerHandler.packetToString()
(Hitoshi Mitake via rgs)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1683842 13f79535-47bb-0310-9956-ffa450edef68"
Raúl Gutiérrez Segalés,rgs@apache.org,2015-06-05T18:38:41Z,"ZOOKEEPER-2205: Log type of unexpected quorum packet in learner handler loop
(Hitoshi Mitake via rgs)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1683833 13f79535-47bb-0310-9956-ffa450edef68"
Raúl Gutiérrez Segalés,rgs@apache.org,2015-06-04T17:51:16Z,"ZOOKEEPER-2163: Introduce new ZNode type: container
(Jordan Zimmerman via rgs)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1683605 13f79535-47bb-0310-9956-ffa450edef68"
Raúl Gutiérrez Segalés,rgs@apache.org,2015-06-04T17:37:26Z,"ZOOKEEPER-2204: LearnerSnapshotThrottlerTest.testHighContentionWithTimeout
fails occasionally (Donny Nadolny via rgs)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1683602 13f79535-47bb-0310-9956-ffa450edef68"
Raúl Gutiérrez Segalés,rgs@apache.org,2015-06-04T16:26:06Z,"ZOOKEEPER-2194: Let DataNode.getChildren() return an unmodifiable view of its
children set (Hitoshi Mitake via rgs)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1683587 13f79535-47bb-0310-9956-ffa450edef68"
Raúl Gutiérrez Segalés,rgs@apache.org,2015-06-02T19:17:09Z,"ZOOKEEPER-2096: C client builds with incorrect error codes in VisualStudio 2010+
(Vitaly Stakhovsky via rgs)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1683163 13f79535-47bb-0310-9956-ffa450edef68"
Raúl Gutiérrez Segalés,rgs@apache.org,2015-06-02T05:21:26Z,"ZOOKEEPER-2197 non-ascii character in FinalRequestProcessor.java

To be able to use utf-8 in .java source files we now use utf-8
encoding to build them (Michi Mutsuzaki via rgs).

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1683042 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2015-06-01T06:45:11Z,"ZOOKEEPER-2178 Native client fails compilation on Windows. (Chris Nauroth via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1682823 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2015-05-31T09:21:07Z,"ZOOKEEPER-2198 Set default test.junit.threads to 1 (Chris Nauroth via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1682701 13f79535-47bb-0310-9956-ffa450edef68"
Hongchao Deng,hdeng@apache.org,2015-05-30T16:39:30Z,"ZOOKEEPER-2189: QuorumCnxManager: use BufferedOutputStream for initial msg
(Raul Gutierrez Segales via hdeng)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1682623 13f79535-47bb-0310-9956-ffa450edef68"
Hongchao Deng,hdeng@apache.org,2015-05-29T21:46:49Z,"ZOOKEEPER-2189: QuorumCnxManager: use BufferedOutputStream for initial msg
(Raul Gutierrez Segales via hdeng)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1682558 13f79535-47bb-0310-9956-ffa450edef68"
Raúl Gutiérrez Segalés,rgs@apache.org,2015-05-29T19:48:23Z,"ZOOKEEPER-2179: Typo in Watcher.java (Archana T via rgs)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1682539 13f79535-47bb-0310-9956-ffa450edef68"
Hongchao Deng,hdeng@apache.org,2015-05-29T17:45:53Z,"ZOOKEEPER-2187: remove duplicated code between CreateRequest{,2}
(Raul Gutierrez Segales via hdeng)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1682521 13f79535-47bb-0310-9956-ffa450edef68"
Rakesh Radhakrishnan,rakeshr@apache.org,2015-05-22T05:24:39Z,"ZOOKEEPER-2191: Continue supporting prior Ant versions that don't implement the threads attribute for the JUnit task (Chris Nauroth via rakeshr)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1680994 13f79535-47bb-0310-9956-ffa450edef68"
Rakesh Radhakrishnan,rakeshr@apache.org,2015-05-20T07:29:50Z,"ZOOKEEPER-2156: If JAVA_HOME is not set zk startup and fetching status command execution result misleads user (J.Andreina via rakeshr)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1680471 13f79535-47bb-0310-9956-ffa450edef68"
Raúl Gutiérrez Segalés,rgs@apache.org,2015-05-18T07:35:50Z,"ZOOKEEPER-1077: C client lib doesn't build on Solaris (Chris Nauroth via rgs)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1679951 13f79535-47bb-0310-9956-ffa450edef68"
Rakesh Radhakrishnan,rakeshr@apache.org,2015-05-15T04:05:28Z,"ZOOKEEPER-2126 Improve exit log messsage of EventThread and SendThread by adding SessionId (surendra singh lilhore via rakeshr)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1679489 13f79535-47bb-0310-9956-ffa450edef68"
Raúl Gutiérrez Segalés,rgs@apache.org,2015-05-14T19:53:44Z,"ZOOKEEPER-2190 fix StandaloneDisabledTest#testReconfig

In StandaloneDisabledTest, testReconfig() shouldn't take leaving servers
as joining servers (Hongchao Deng via rgs).

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1679444 13f79535-47bb-0310-9956-ffa450edef68"
Hongchao Deng,hdeng@apache.org,2015-05-14T16:40:52Z,"ZOOKEEPER-2183 Concurrent Testing Processes and Port Assignments (Chris Nauroth via hdeng)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1679400 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2015-05-14T05:10:01Z,"ZOOKEEPER-2186 QuorumCnxManager#receiveConnection may crash with random input (rgs via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1679313 13f79535-47bb-0310-9956-ffa450edef68"
Hongchao Deng,hdeng@apache.org,2015-05-10T21:29:15Z,"ZOOKEEPER-2182 Several test suites are not running during pre-commit, because their names do not end with ""Test"". (Chris Nauroth via hdeng)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1678645 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2015-05-09T22:27:47Z,"ZOOKEEPER-2171 avoid reverse lookups in QuorumCnxManager (rgs via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1678529 13f79535-47bb-0310-9956-ffa450edef68"
Hongchao Deng,hdeng@apache.org,2015-05-06T15:45:30Z,"ZOOKEEPER-2153 X509 Authentication Documentation (Ian Dimayuga via hdeng)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1678032 13f79535-47bb-0310-9956-ffa450edef68"
Hongchao Deng,hdeng@apache.org,2015-05-05T17:29:23Z,"ZOOKEEPER-2153 X509 Authentication Documentation (Ian Dimayuga via hdeng)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1677867 13f79535-47bb-0310-9956-ffa450edef68"
Hongchao Deng,hdeng@apache.org,2015-05-05T17:16:50Z,"ZOOKEEPER-2176 Unclear error message should be info not error (rgs via hdeng)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1677865 13f79535-47bb-0310-9956-ffa450edef68"
Rakesh Radhakrishnan,rakeshr@apache.org,2015-05-05T02:38:36Z,"ZOOKEEPER-2062 RemoveWatchesTest takes forever to run (Chris Nauroth via rakeshr)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1677724 13f79535-47bb-0310-9956-ffa450edef68"
Raúl Gutiérrez Segalés,rgs@apache.org,2015-05-04T06:31:43Z,"ZOOKEEPER-2124 Allow Zookeeper version string to have underscore '_'

(Chris Nauroth via rgs)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1677529 13f79535-47bb-0310-9956-ffa450edef68"
Raúl Gutiérrez Segalés,rgs@apache.org,2015-05-03T17:55:28Z,"ZOOKEEPER-2174 JUnit4ZKTestRunner logs test failure for all exceptions

JUnit4ZKTestRunner logs test failure for all exceptions, even if the test
method is annotated with an expected exception (Chris Nauroth via rgs).

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1677460 13f79535-47bb-0310-9956-ffa450edef68"
Camille Fournier,camille@apache.org,2015-04-27T18:36:46Z,"ZOOKEEPER-2173. ZK startup failure should be handled with proper error message (J.Andreina via camille)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1676359 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2015-04-11T21:40:22Z,"ZOOKEEPER-1626 Zookeeper C client should be tolerant of clock adjustments (Colin Patrick McCabe via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1672934 13f79535-47bb-0310-9956-ffa450edef68"
Hongchao Deng,hdeng@apache.org,2015-04-10T20:22:34Z,"ZOOKEEPER-2029 Leader.LearnerCnxAcceptor should handle exceptions in run()
(Rakesh R, Asad Saeed via hdeng)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1672751 13f79535-47bb-0310-9956-ffa450edef68"
Rakesh Radhakrishnan,rakeshr@apache.org,2015-04-09T18:16:37Z,"ZOOKEEPER-1506 Re-try DNS hostname -> IP resolution if node connection fails(Michi Mutsuzaki via rakeshr)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1672436 13f79535-47bb-0310-9956-ffa450edef68"
Hongchao Deng,hdeng@apache.org,2015-04-07T17:23:00Z,"ZOOKEEPER-2157 Upgrade option should be removed from zkServer.sh usage
(J.Andreina via hdeng)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1671889 13f79535-47bb-0310-9956-ffa450edef68"
Raúl Gutiérrez Segalés,rgs@apache.org,2015-04-06T23:54:51Z,"ZOOKEEPER-2056 Zookeeper 3.4.x and 3.5.0-alpha is not OSGi compliant (Deiwin Sarjas via rgs)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1671712 13f79535-47bb-0310-9956-ffa450edef68"
Rakesh Radhakrishnan,rakeshr@apache.org,2015-03-28T19:08:52Z,"ZOOKEEPER-2123 Provide implementation of X509 AuthenticationProvider(Ian Dimayuga via rakeshr)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1669825 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2015-03-25T07:48:54Z,"ZOOKEEPER-2149 Logging of client address when socket connection established (Hongchao Deng via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1669062 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2015-03-25T07:38:44Z,"ZOOKEEPER-2146 BinaryInputArchive readString should check length before allocating memory (Hongchao Deng via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1669060 13f79535-47bb-0310-9956-ffa450edef68"
Rakesh Radhakrishnan,rakeshr@apache.org,2015-03-17T17:06:07Z,"ZOOKEEPER-2125 SSL on Netty client-server communication (Hongchao, Ian Dimayuga via rakeshr)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1667358 13f79535-47bb-0310-9956-ffa450edef68"
Rakesh Radhakrishnan,rakeshr@apache.org,2015-03-16T08:09:04Z,"ZOOKEEPER-2107 zookeeper client should support custom HostProviders(Robert Kamphuis via rakeshr)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1666908 13f79535-47bb-0310-9956-ffa450edef68"
Rakesh Radhakrishnan,rakeshr@apache.org,2015-03-16T05:24:07Z,"ZOOKEEPER-2109 Typo in src/c/src/load_gen.c (surendra singh lilhore via rakeshr)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1666873 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2015-03-15T07:54:59Z,"ZOOKEEPER-1865 Fix retry logic in Learner.connectToLeader() (Edward Carter via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1666784 13f79535-47bb-0310-9956-ffa450edef68"
Camille Fournier,camille@apache.org,2015-03-15T00:14:39Z,"ZOOKEEPER-1893. automake: use serial-tests option (michim via camille)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1666768 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2015-03-14T22:47:06Z,"ZOOKEEPER-2137 Make testPortChange() less flaky (Hongchao Deng via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1666764 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2015-03-14T22:28:06Z,"Revert ZOOKEEPER-2074.


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1666760 13f79535-47bb-0310-9956-ffa450edef68"
Rakesh Radhakrishnan,rakeshr@apache.org,2015-03-09T18:22:02Z,"ZOOKEEPER-2134 AsyncHammerTest.testHammer fails intermittently(Michi Mutsuzaki via rakeshr)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1665315 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2015-03-08T22:07:59Z,"ZOOKEEPER-1907 Improve Thread handling (Rakesh R via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1665089 13f79535-47bb-0310-9956-ffa450edef68"
Rakesh Radhakrishnan,rakeshr@apache.org,2015-03-01T16:45:48Z,"ZOOKEEPER-1952 Default log directory and file name can be changed(nijel, Hari Krishna Dara via rakeshr)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1663127 13f79535-47bb-0310-9956-ffa450edef68"
Rakesh Radhakrishnan,rakeshr@apache.org,2015-02-24T17:41:58Z,"ZOOKEEPER-2119 Netty client docs (Hongchao via rakeshr)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1662055 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2015-02-22T22:05:20Z,"ZOOKEEPER-2073 Memory leak on zookeeper_close (Dave Gosselin via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1661569 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2015-02-22T21:08:05Z,"ZOOKEEPER-2114 jute generated allocate_* functions are not externally visible (Tim Crowder via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1661560 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2015-02-11T06:59:46Z,"ZOOKEEPER-1949 recipes jar not included in the distribution package (Rakesh R via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1658888 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2015-02-09T05:36:26Z,"ZOOKEEPER-2074 Incorrect exit codes for ""./zkCli.sh cmd arg"" (surendra singh lilhore via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1658307 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2015-02-06T05:17:31Z,"ZOOKEEPER-1366 Zookeeper should be tolerant of clock adjustments (Hongchao Deng via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1657745 13f79535-47bb-0310-9956-ffa450edef68"
Rakesh Radhakrishnan,rakeshr@apache.org,2015-01-31T07:05:54Z,"ZOOKEEPER-2111 Not isAlive states should be synchronized in ClientCnxn (Hongchao via rakeshr)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1656167 13f79535-47bb-0310-9956-ffa450edef68"
Rakesh Radhakrishnan,rakeshr@apache.org,2015-01-30T02:23:50Z,"ZOOKEEPER-2072 Netty Server Should Configure Child Channel Pipeline By Specifying ChannelPipelineFactory(Hongchao via rakeshr)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1655910 13f79535-47bb-0310-9956-ffa450edef68"
Rakesh Radhakrishnan,rakeshr@apache.org,2015-01-27T16:27:34Z,"ZOOKEEPER-2110 Typo fixes in the ZK documentation. (Jeffrey Schroeder via rakeshr)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1655082 13f79535-47bb-0310-9956-ffa450edef68"
Alexander Shraer,shralex@apache.org,2015-01-25T00:22:12Z,"ZOOKEEPER-1784 wrong check for COMMITANDACTIVATE in observer code, Learner.java (rgs via shralex).

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1654608 13f79535-47bb-0310-9956-ffa450edef68"
Flavio Paiva Junqueira,fpj@apache.org,2014-12-20T14:32:57Z,"ZOOKEEPER-2069 Netty Support for ClientCnxnSocket (Hongchao via fpj)



git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1646992 13f79535-47bb-0310-9956-ffa450edef68"
Flavio Paiva Junqueira,fpj@apache.org,2014-12-20T14:29:07Z,"ZOOKEEPER-2069 Netty Support for ClientCnxnSocket (Hongchao via fpj)



git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1646985 13f79535-47bb-0310-9956-ffa450edef68"
Flavio Paiva Junqueira,fpj@apache.org,2014-12-17T21:59:37Z,"ZOOKEEPER-1963 Make JDK 7 the minimum requirement for Zookeeper 
(Hongchao via fpj)



git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1646345 13f79535-47bb-0310-9956-ffa450edef68"
Flavio Paiva Junqueira,fpj@apache.org,2014-11-29T16:10:03Z,"ZOOKEEPER-2060 Trace bug in NettyServerCnxnFactory (Ian via fpj)
This commit is just to correct CHANGES.txt,the entry was in the
wrong section.



git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1642444 13f79535-47bb-0310-9956-ffa450edef68"
Flavio Paiva Junqueira,fpj@apache.org,2014-11-29T15:53:52Z,"ZOOKEEPER-2064 Prevent resource leak in various classes (Ted Yu via fpj)



git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1642438 13f79535-47bb-0310-9956-ffa450edef68"
Flavio Paiva Junqueira,fpj@apache.org,2014-11-19T22:36:57Z,"ZOOKEEPER-2060 Trace bug in NettyServerCnxnFactory (Ian via fpj)



git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1640635 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2014-11-17T06:47:25Z,"ZOOKEEPER-2079 Stop daemon with ""kill"" rather than ""kill -9"" (Guillaume ALAUX via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1640069 13f79535-47bb-0310-9956-ffa450edef68"
Alexander Shraer,shralex@apache.org,2014-11-07T06:15:49Z,"Committing zookeeperReconfig.html and pdf to trunk

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1637293 13f79535-47bb-0310-9956-ffa450edef68"
Rakesh Radhakrishnan,rakeshr@apache.org,2014-10-28T04:35:14Z,"ZOOKEEPER-2052 Unable to delete a node when the node has no children (Hongchao Deng and Yip Ng via rakeshr)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1634776 13f79535-47bb-0310-9956-ffa450edef68"
Camille Fournier,camille@apache.org,2014-10-25T02:38:22Z,"ZOOKEEPER-2066 Updates to README.txt (Wendy Smoak via camille)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1634174 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2014-10-16T04:44:41Z,"ZOOKEEPER-2049 Yosemite build failure: htonll conflict (Till Toenshoff via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1632209 13f79535-47bb-0310-9956-ffa450edef68"
Rakesh Radhakrishnan,rakeshr@apache.org,2014-10-13T03:19:27Z,"ZOOKEEPER-2058 rat: exclude *.cer files  (michim via rakeshr)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1631280 13f79535-47bb-0310-9956-ffa450edef68"
Rakesh Radhakrishnan,rakeshr@apache.org,2014-10-13T03:10:10Z,"ZOOKEEPER-1917 Apache Zookeeper logs cleartext admin passwords (michim via rakeshr)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1631277 13f79535-47bb-0310-9956-ffa450edef68"
Rakesh Radhakrishnan,rakeshr@apache.org,2014-10-08T08:16:28Z,"ZOOKEEPER-2054 test-patch.sh: don't set ulimit -n (michim via rakeshr)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1630026 13f79535-47bb-0310-9956-ffa450edef68"
Rakesh Radhakrishnan,rakeshr@apache.org,2014-09-29T17:14:44Z,"ZOOKEEPER-1948 Enable JMX remote monitoring (Biju Nair via rakeshr)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1628224 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2014-09-29T06:20:00Z,"ZOOKEEPER-1917 Apache Zookeeper logs cleartext admin passwords (fpj via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1628123 13f79535-47bb-0310-9956-ffa450edef68"
Rakesh Radhakrishnan,rakeshr@apache.org,2014-09-28T17:15:05Z,"ZOOKEEPER-2026 Startup order in ServerCnxnFactory-ies is wrong (Stevo Slavic via rakeshr)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1628086 13f79535-47bb-0310-9956-ffa450edef68"
Rakesh Radhakrishnan,rakeshr@apache.org,2014-09-27T06:20:31Z,"ZOOKEEPER-2047 testTruncationNullLog fails on windows (flavio via rakeshr)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1627923 13f79535-47bb-0310-9956-ffa450edef68"
Flavio Paiva Junqueira,fpj@apache.org,2014-09-18T15:47:50Z,"ZOOKEEPER-2039 Jute compareBytes incorrect comparison index (Ian Dimayuga via fpj)



git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1626008 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2014-09-17T05:34:28Z,"ZOOKEEPER-2030 dynamicConfigFile should have an absolute path, not a relative
path, to the dynamic configuration file (Alexander Shraer via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1625462 13f79535-47bb-0310-9956-ffa450edef68"
Alexander Shraer,shralex@apache.org,2014-09-10T07:00:31Z,"ZOOKEEPER-2032. Cleaning up resources in ReconfigBackupTest (Hongchao Deng via shralex)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1623916 13f79535-47bb-0310-9956-ffa450edef68"
Alexander Shraer,shralex@apache.org,2014-08-29T14:23:53Z,"ZOOKEEPER-1660 Documentation for Dynamic Reconfiguration (Reed Wanderman-Milne via shralex)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1621313 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2014-08-24T05:42:45Z,"ZOOKEEPER-2017 New tests for reconfig failure cases (Alexander Shraer and Hongchao Deng via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1620111 13f79535-47bb-0310-9956-ffa450edef68"
Alexander Shraer,shralex@apache.org,2014-08-20T17:18:39Z,"ZOOKEEPER-2013. Typos in programmer guide. (Tim Chambers via Alex Shraer)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1619166 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2014-08-20T04:07:16Z,"ZOOKEEPER-2000. Fix ReconfigTest.testPortChange (Alexander Shraer via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1619030 13f79535-47bb-0310-9956-ffa450edef68"
Alexander Shraer,shralex@apache.org,2014-08-19T20:50:41Z,"ZOOKEEPER-2006. Standalone mode won't take client port from dynamic config. (Hongchao Deng via Alex Shraer)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1618977 13f79535-47bb-0310-9956-ffa450edef68"
Alexander Shraer,shralex@apache.org,2014-08-14T12:33:18Z,"ZOOKEEPER-2008-Fix. Correcting small issue in committed 2008 patch.

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1617921 13f79535-47bb-0310-9956-ffa450edef68"
Alexander Shraer,shralex@apache.org,2014-08-14T07:32:06Z,"ZOOKEEPER-2008. Missing leader election port in system test. (Kfir Lev-Ari via Alex Shraer).

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1617892 13f79535-47bb-0310-9956-ffa450edef68"
Alexander Shraer,shralex@apache.org,2014-08-14T06:08:48Z,"ZOOKEEPER-1994. Auto-backup configuration files; config version becomes part of filename (Hongchao Deng via shralex)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1617886 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2014-08-01T21:45:38Z,"Preparing for 3.6 development

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1615240 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2014-08-01T21:42:12Z,"Preparing for release 3.5.0

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1615237 13f79535-47bb-0310-9956-ffa450edef68"
Alexander Shraer,shralex@apache.org,2014-08-01T05:38:05Z,"ZOOKEEPER-1992. Backward compatibility of the static configuration file (Hongchao Deng via Alex Shraer)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1615037 13f79535-47bb-0310-9956-ffa450edef68"
Rakesh Radhakrishnan,rakeshr@apache.org,2014-07-26T02:11:37Z,"ZOOKEEPER-1988. new test patch to verify dynamic reconfig backward compatibility (Alexander Shraer via rakeshr)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1613553 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2014-07-25T16:57:45Z,"ZOOKEEPER-1933. Windows release build of zk client cannot connect to zk server (Orion Hodson via fpj, phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1613474 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2014-07-25T16:23:40Z,"ZOOKEEPER-1974. winvs2008 jenkins job failing with ""unresolved external symbol"" (flavio via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1613463 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2014-07-24T23:31:57Z,"ZOOKEEPER-1877. Malformed ACL Id can crash server with skipACL=yes (Chris Chen via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1613328 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2014-07-24T23:16:09Z,"ZOOKEEPER-1937. init script needs fixing for ZOOKEEPER-1719 (Marshall McMullen via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1613326 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2014-07-24T22:58:38Z,"ZOOKEEPER-1986. refactor log trace on touchSession (Hongchao Deng via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1613323 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2014-07-23T18:17:17Z,"ZOOKEEPER-1982. Refactor (touch|add)Session in SessionTrackerImpl.java (Hongchao Deng via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1612906 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2014-07-23T17:36:19Z,"ZOOKEEPER-1789. 3.4.x observer causes NPE on 3.5.0 (trunk) participants (Alex Shraer via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1612885 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2014-07-23T16:35:52Z,"ZOOKEEPER-1984. testLeaderTimesoutOnNewQuorum is a flakey test (Alex Shraer via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1612867 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2014-07-22T04:51:17Z,"ZOOKEEPER-1981. Fix Dodgy Code Warnings identified by findbugs 2.0.3 (Hongchao Deng via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1612458 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2014-07-22T04:45:41Z,"ZOOKEEPER-1979. Fix Performance Warnings found by Findbugs 2.0.3 (Hongchao Deng via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1612457 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2014-07-21T18:01:25Z,"ZOOKEEPER-1975. Turn off ""internationalization warnings"" in findbugs exclude file (phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1612362 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2014-07-21T17:58:36Z,"ZOOKEEPER-1973. Jetty Server changes broke ibm6 support (Bill Havanki via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1612359 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2014-07-20T02:50:20Z,"ZOOKEEPER-1972. Fix invalid volatile long/int increment (++) (Hongchao Deng via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1612015 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2014-07-19T04:39:05Z,"ZOOKEEPER-927. there are currently 24 RAT warnings in the build -- address directly or via exclusions (Michi Mutsuzaki via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1611846 13f79535-47bb-0310-9956-ffa450edef68"
Flavio Paiva Junqueira,fpj@apache.org,2014-07-18T18:48:56Z,"ZOOKEEPER-1807. Observers spam each other creating connections to the election addr (Alex Shraer via fpj)



git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1611765 13f79535-47bb-0310-9956-ffa450edef68"
Rakesh Radhakrishnan,rakeshr@apache.org,2014-07-18T17:46:51Z,"ZOOKEEPER-1851. Follower and Observer Request Processors Do Not Forward create2 Requests (Chris Chen via rakeshr)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1611732 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2014-07-18T17:28:31Z,"ZOOKEEPER-1968. Make Jetty dependencies optional in ivy.xml (Bill Havanki via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1611729 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2014-07-18T17:04:25Z,"ZOOKEEPER-1969. Fix Port Already In Use for JettyAdminServerTest (Hongchao Deng via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1611714 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2014-07-18T00:19:01Z,"ZOOKEEPER-1346. Add Jetty HTTP server support for four letter words. (Skye Wanderman-Milne, Bill Havanki via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1611516 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2014-07-17T20:56:43Z,"ZOOKEEPER-1683. ZooKeeper client NPE when updating server list on disconnected client (shralex via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1611474 13f79535-47bb-0310-9956-ffa450edef68"
Flavio Paiva Junqueira,fpj@apache.org,2014-07-17T09:40:18Z,"ZOOKEEPER-1966. VS and line breaks - second fix (Orion Hodson via fpj)



git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1611309 13f79535-47bb-0310-9956-ffa450edef68"
Flavio Paiva Junqueira,fpj@apache.org,2014-07-16T16:00:11Z,"ZOOKEEPER-1966. VS and line breaks (Orion Hodson via fpj)



git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1611064 13f79535-47bb-0310-9956-ffa450edef68"
Flavio Paiva Junqueira,fpj@apache.org,2014-07-16T15:54:29Z,"Removing files as part of ZOOKEEPER-1966.



git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1611063 13f79535-47bb-0310-9956-ffa450edef68"
Camille Fournier,camille@apache.org,2014-07-15T21:54:32Z,"ZOOKEEPER-1863. Race condition in commit processor leading to out of order request completion, xid mismatch on client. (fpj and Dutch T Meyer via camille)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1610861 13f79535-47bb-0310-9956-ffa450edef68"
Flavio Paiva Junqueira,fpj@apache.org,2014-07-14T17:45:38Z,"ZOOKEEPER-1964. Fix Flaky Test in ReconfigTest.java (Hongchao Deng via fpj)



git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1610468 13f79535-47bb-0310-9956-ffa450edef68"
Flavio Paiva Junqueira,fpj@apache.org,2014-07-11T15:51:37Z,"ZOOKEEPER-1953. Add solution and project files to enable build with current Visual Studio editions (VS 2012/2013)- 32-bit and 64-bit.  (Orion Hodson via fpj)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1609730 13f79535-47bb-0310-9956-ffa450edef68"
Rakesh Radhakrishnan,rakeshr@apache.org,2014-07-08T18:18:31Z,"ZOOKEEPER-1222. getACL should only call DataTree.copyStat when passed in stat is not null (Michi Mutsuzaki via rakeshr)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1608872 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2014-07-08T03:25:56Z,"ZOOKEEPER-1810. Add version to FLE notifications for trunk Germán Blanco via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1608648 13f79535-47bb-0310-9956-ffa450edef68"
Flavio Paiva Junqueira,fpj@apache.org,2014-07-07T21:43:44Z,"ZOOKEEPER-827. enable r/o mode in C client library (rgs via fpj)



git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1608620 13f79535-47bb-0310-9956-ffa450edef68"
Rakesh Radhakrishnan,rakeshr@apache.org,2014-07-04T02:19:59Z,"ZOOKEEPER-1835. dynamic configuration file renaming fails on Windows(Bruno Freudensprung via rakeshr)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1607774 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2014-07-03T04:01:51Z,"ZOOKEEPER-1946. Server logging should reflect dynamically reconfigured address (Niko Vuokko via phunt and Alexander Shraer)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1607525 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2014-07-03T03:57:19Z,"ZOOKEEPER-1918. Add 64 bit Windows as a supported development platform (Michi Mutsuzaki via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1607524 13f79535-47bb-0310-9956-ffa450edef68"
Alexander Shraer,shralex@apache.org,2014-06-30T17:11:54Z,"ZOOKEEPER-1900

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1606841 13f79535-47bb-0310-9956-ffa450edef68"
Camille Fournier,camille@apache.org,2014-06-27T21:47:49Z,"ZOOKEEPER-1576. Zookeeper cluster - failed to connect to cluster if one of the 
  provided IPs causes java.net.UnknownHostException (Edward Ribeiro via camille)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1606254 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2014-06-25T17:35:22Z,"ZOOKEEPER-1938. bump version in the C library as we prepare for 3.5.0 release (Raul Gutierrez Segales via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1605517 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2014-06-25T17:25:28Z,"ZOOKEEPER-1939. ReconfigRecoveryTest.testNextConfigUnreachable is failing (Rakesh R via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1605509 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2014-06-25T17:06:05Z,"ZOOKEEPER-1746. AsyncCallback.*Callback don't have any Javadoc (Hongchao Deng via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1605503 13f79535-47bb-0310-9956-ffa450edef68"
Flavio Paiva Junqueira,fpj@apache.org,2014-06-25T13:32:19Z,"ZOOKEEPER-1945. deb - zkCli.sh, zkServer.sh and zkEnv.sh regression caused by ZOOKEEPER-1663 (Mark Flickinger via fpj)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1605391 13f79535-47bb-0310-9956-ffa450edef68"
Flavio Paiva Junqueira,fpj@apache.org,2014-06-25T13:04:27Z,"ZOOKEEPER-1870. flakey test in StandaloneDisabledTest.startSingleServerTest (Helen Hastings via fpj)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1605380 13f79535-47bb-0310-9956-ffa450edef68"
Flavio Paiva Junqueira,fpj@apache.org,2014-06-09T22:19:02Z,"ZOOKEEPER-1928. add configurable throttling to the number of snapshots concurrently sent by a leader (Edward Carter via fpj)



git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1601516 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2014-06-04T20:07:23Z,"ZOOKEEPER-1659. Add JMX support for dynamic reconfiguration (Rakesh R via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1600481 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2014-05-28T17:57:47Z,"ZOOKEEPER-1930. A typo in zookeeper recipes.html (Chengwei Yang via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1598087 13f79535-47bb-0310-9956-ffa450edef68"
Flavio Paiva Junqueira,fpj@apache.org,2014-05-21T21:03:47Z,"ZOOKEEPER-1914. TestWatchers.cc failure - workaround (michim via fpj)



git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1596684 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2014-05-21T17:48:37Z,"ZOOKEEPER-1699. Forgot to add a new file.


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1596635 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2014-05-20T21:42:51Z,"ZOOKEEPER-1699. Leader should timeout and give up leadership when losing quorum of last proposed configuration (Alexander Shraer via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1596422 13f79535-47bb-0310-9956-ffa450edef68"
Rakesh Radhakrishnan,rakeshr@apache.org,2014-05-20T15:10:30Z,"ZOOKEEPER-716. dump server memory detail to the log during startup (Michi Mutsuzaki via rakeshr)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1596284 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2014-05-18T03:49:06Z,"ZOOKEEPER-1214. QuorumPeer should unregister only its previsously registered MBeans instead of use MBeanRegistry.unregisterAll() method. (César Álvarez Núñez via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1595561 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2014-05-18T02:42:14Z,"ZOOKEEPER-1791. ZooKeeper package includes unnecessary jars that are part of the package. (mahadev via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1595559 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2014-05-18T01:01:55Z,"ZOOKEEPER-1797. PurgeTxnLog may delete data logs during roll (Rakesh R via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1595552 13f79535-47bb-0310-9956-ffa450edef68"
Rakesh Radhakrishnan,rakeshr@apache.org,2014-05-17T11:23:25Z,"ZOOKEEPER-1864. quorumVerifier is null when creating a QuorumPeerConfig from parsing a Properties object (Michi Mutsuzaki via rakeshr)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1595443 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2014-05-16T22:31:11Z,"ZOOKEEPER-1062. Net-ZooKeeper: Net::ZooKeeper consumes 100% cpu on wait (Botond Hejj via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1595374 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2014-05-16T17:56:10Z,"ZOOKEEPER-1895. update all notice files, copyright, etc... with the new year - 2014


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1595273 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2014-05-15T20:39:36Z,"ZOOKEEPER-1836. addrvec_next() fails to set next parameter if addrvec_hasnext() returns false (Dutch T. Meyer via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1595038 13f79535-47bb-0310-9956-ffa450edef68"
Rakesh Radhakrishnan,rakeshr@apache.org,2014-05-15T01:35:33Z,"ZOOKEEPER-657. Cut down the running time of ZKDatabase corruption (Michi Mutsuzaki via rakeshr)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1594755 13f79535-47bb-0310-9956-ffa450edef68"
Rakesh Radhakrishnan,rakeshr@apache.org,2014-05-10T10:42:44Z,"ZOOKEEPER-1891. StaticHostProviderTest.testUpdateLoadBalancing times out (Michi Mutsuzaki via rakeshr)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1593682 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2014-05-09T21:37:39Z,"ZOOKEEPER-1926. Unit tests should only use build/test/data for data (Enis Soztutar via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1593624 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2014-05-08T21:45:57Z,"ZOOKEEPER-1923. A typo in zookeeperStarted document (Chengwei Yang via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1593428 13f79535-47bb-0310-9956-ffa450edef68"
Rakesh Radhakrishnan,rakeshr@apache.org,2014-05-04T12:36:12Z,"ZOOKEEPER-751. Recipe heading refers to 'recoverable' but should be 'revocable' (Michi Mutsuzaki via rakeshr)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1592341 13f79535-47bb-0310-9956-ffa450edef68"
Rakesh Radhakrishnan,rakeshr@apache.org,2014-04-30T02:30:23Z,"ZOOKEEPER-1695. Inconsistent error code and type for new errors introduced by dynamic reconfiguration (Michi Mutsuzaki via rakeshr)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1591175 13f79535-47bb-0310-9956-ffa450edef68"
Camille Fournier,camille@apache.org,2014-04-29T00:23:58Z,"ZOOKEEPER-1910. RemoveWatches wrongly removes the watcher if multiple watches 
  exists on a path (Rakesh R via camille)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1590850 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2014-04-26T21:16:37Z,"ZOOKEEPER-1843. Oddity in ByteBufferInputStream skip (Bill Havanki via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1590298 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2014-04-25T21:40:28Z,"ZOOKEEPER-1673. Zookeeper don't support cidr in expression in ACL with ip scheme (Craig Condit via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1590157 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2014-04-25T19:35:56Z,"ZOOKEEPER-1819. DeserializationPerfTest calls method with wrong arguments (Daniel Knightly via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1590116 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2014-04-25T08:10:04Z,"ZOOKEEPER-1911. REST contrib module does not include all required files when packaged (Sean Mackrory via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1589949 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2014-04-18T22:31:53Z,"ZOOKEEPER-1913. Invalid manifest files due to bogus revision property value (Raul Gutierrez Segales via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1588584 13f79535-47bb-0310-9956-ffa450edef68"
Rakesh Radhakrishnan,rakeshr@apache.org,2014-04-17T06:47:18Z,"ZOOKEEPER-1909. removeWatches doesn't return NOWATCHER when there is
no watch set (Raul Gutierrez Segales via rakeshr)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1588141 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2014-04-16T07:06:54Z,"ZOOKEEPER-1840. Server tries to connect to itself during dynamic reconfig (Alexander Shraer via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1587818 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2014-04-16T06:15:28Z,"ZOOKEEPER-1887. C implementation of removeWatches (Raul Gutierrez Segales via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1587812 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2014-04-14T21:51:55Z,"ZOOKEEPER-1357. Zab1_0Test uses hard-wired port numbers. Specifically, it uses the same port for leader in two different tests. The second test periodically fails complaining that the port is still in use. (Alexander Shraer via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1587335 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2014-04-10T03:20:17Z,"zkEnv.cmd: Set svn:eol-style property to 'native'.


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1586200 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2014-04-07T01:30:49Z,"Revert ""ZOOKEEPER-297. centralize version numbering in the source/build (Diego de Oliveira via michim)""


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1585371 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2014-04-04T01:33:45Z,"ZOOKEEPER-1575. adding .gitattributes to prevent CRLF and LF mismatches for source and text files (Raja Aluri via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1584501 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2014-04-04T01:24:37Z,"Set svn:eol-style property to native.


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1584497 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2014-04-03T23:13:29Z,"ZOOKEEPER-1831. Document remove watches details to the guide (Rakesh R via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1584459 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2014-04-03T23:03:34Z,"ZOOKEEPER-1830. Support command line shell for removing watches (Rakesh R via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1584454 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2014-04-03T22:39:16Z,"ZOOKEEPER-1897. ZK Shell/Cli not processing commands (stack via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1584438 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2014-04-01T20:58:07Z,"ZOOKEEPER-1906. zkpython: invalid data in GetData for empty node (Nikita Vetoshkin via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1583783 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2014-04-01T02:03:02Z,"ZOOKEEPER-1730. Make ZooKeeper easier to test - support simulating a session expiration (Jordan Zimmerman via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1583513 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2014-04-01T01:45:52Z,"ZOOKEEPER-1701. When new and old config have the same version, no need to write new config to disk or create new connections (Alexander Shraer via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1583509 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2014-03-31T23:56:32Z,"ZOOKEEPER-1725. Zookeeper Dynamic Conf writes out hostnames when IPs are supplied (Alexander Shraer via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1583495 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2014-03-31T23:47:08Z,"ZOOKEEPER-1728. Better error message when reconfig invoked in standalone mode (Alexander Shraer via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1583492 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2014-03-29T23:01:40Z,"ZOOKEEPER-1219. LeaderElectionSupport recipe is unnecessarily dispatching the READY_START event even if the ELECTED node stopped/expired simultaneously. (Rakesh R via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1583083 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2014-03-29T03:33:53Z,"ZOOKEEPER-1408. CLI: sort output of ls command (Hartmut Lang via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1582943 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2014-03-29T03:23:57Z,"ZOOKEEPER-297. centralize version numbering in the source/build (Diego de Oliveira via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1582941 13f79535-47bb-0310-9956-ffa450edef68"
Camille Fournier,camille@apache.org,2014-03-28T00:58:20Z,"ZOOKEEPER-1894. ObserverTest.testObserver fails consistently. (michim via camille)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1582572 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2014-03-26T21:25:14Z,"ZOOKEEPER-1878. Reset zookeeper.datadir.autocreate (Rakesh R via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1582067 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2014-03-26T21:13:46Z,"ZOOKEEPER-1904. WatcherTest#testWatchAutoResetWithPending is failing (Rakesh R via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1582055 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2014-03-25T21:13:19Z,"ZOOKEEPER-1263. fix handling of min/max session timeout value initialization (Rakesh R via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1581522 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2014-03-23T21:03:31Z,"ZOOKEEPER-1901. [JDK8] Sort children for comparison in AsyncOps tests (Andrew Purtell via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1580612 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2014-03-23T03:12:56Z,"ZOOKEEPER-602. log all exceptions not caught by ZK threads (Rakesh R via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1580436 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2014-03-21T05:36:11Z,"ZOOKEEPER-1796. Move common code from {Follower, Observer}ZooKeeperServer into LearnerZooKeeperServer (Raul Gutierrez Segales via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1579888 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2014-03-14T23:10:35Z,"ZOOKEEPER-1862. ServerCnxnTest.testServerCnxnExpiry is intermittently failing (Rakesh R via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1577756 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2014-03-14T22:51:29Z,"KEEPER-1878. Inconsistent behavior in autocreation of dataDir and dataLogDir (Rakesh R via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1577750 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2014-03-13T20:58:01Z,"ZOOKEEPER-1883. C client unit test failures (Raul Gutierrez Segales via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1577317 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2014-03-13T01:39:14Z,"Revert ""ZOOKEEPER-1883. C client unit test failures (Raul Gutierrez Segales via michim)""


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1577019 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2014-03-12T22:57:11Z,"ZOOKEEPER-1638. Redundant zk.getZKDatabase().clear(); (neil bhakta via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1576982 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2014-03-12T22:25:14Z,"ZOOKEEPER-1883. C client unit test failures (Raul Gutierrez Segales via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1576961 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2014-03-12T21:44:20Z,"ZOOKEEPER-1440. Spurious log error messages when QuorumCnxManager is shutting down (Jordan Zimmerman via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1576936 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2014-03-11T01:44:30Z,"ZOOKEEPER-1662. Fix to two small bugs in ReconfigTest.testPortChange() (Alexander Shraer via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1576174 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2014-03-10T23:28:19Z,"ZOOKEEPER-1888. ZkCli.cmd commands fail with ""'java' is not recognized as an internal or external command"" (Ivan Mitic via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1576127 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2014-03-05T21:53:40Z,"ZOOKEEPER-1779. ReconfigTest littering the source root with test files (Abhiraj Butala via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1574686 13f79535-47bb-0310-9956-ffa450edef68"
Camille Fournier,camille@apache.org,2014-02-19T01:31:53Z," ZOOKEEPER-1755. Concurrent operations of four letter 'dump' ephemeral 
  command and killSession causing NPE (Rakesh R via camille)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1569590 13f79535-47bb-0310-9956-ffa450edef68"
Camille Fournier,camille@apache.org,2014-02-14T00:34:30Z,"ZOOKEEPER-1861. ConcurrentHashMap isn't used properly in QuorumCnxManager (Ted Yu via camille)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1568176 13f79535-47bb-0310-9956-ffa450edef68"
Flavio Paiva Junqueira,fpj@apache.org,2014-02-12T16:00:09Z,"ZOOKEEPER-1844. TruncateTest fails on windows (Rakesh R via fpj)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1567660 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2014-02-12T01:39:48Z,"ZOOKEEPER-1873. Unnecessarily InstanceNotFoundException is coming when unregister failed jmxbeans (Rakesh R via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1567489 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2014-02-12T01:30:48Z,"ZOOKEEPER-1874 Add proper teardown/cleanups in ReconfigTest to shutdown quorumpeer (Rakesh R and Germán Blanco via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1567488 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2014-02-10T21:25:49Z,"ZOOKEEPER-1811. The ZooKeeperSaslClient service name principal is hardcoded to ""zookeeper"" (Harsh J via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1566748 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2014-02-10T20:50:54Z,"ZOOKEEPER-1573. Unable to load database due to missing parent node (Vinayakumar B via phunt, fpj)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1566739 13f79535-47bb-0310-9956-ffa450edef68"
Flavio Paiva Junqueira,fpj@apache.org,2014-01-27T13:37:00Z,"ZOOKEEPER-1867. Bug in ZkDatabaseCorruptionTest (fpj)



git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1561672 13f79535-47bb-0310-9956-ffa450edef68"
Flavio Paiva Junqueira,fpj@apache.org,2014-01-25T00:17:07Z,"ZOOKEEPER-1858. JMX checks - potential race conditions while stopping 
  and starting server (Rakesh R via fpj)



git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1561236 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2014-01-24T06:18:32Z,"ZOOKEEPER-442. need a way to remove watches that are no longer of interest (Rakesh R, Daniel Gómez Ferro via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1560904 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2014-01-21T20:29:52Z,"ZOOKEEPER-1691. Add StandaloneDisabledTest.java (Helen Hastings via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1560172 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2014-01-21T03:50:01Z,"ZOOKEEPER-1691. Add a flag to disable standalone mode (Helen Hastings via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1559916 13f79535-47bb-0310-9956-ffa450edef68"
Flavio Paiva Junqueira,fpj@apache.org,2014-01-16T22:59:23Z,"ZOOKEEPER-1837. Fix JMXEnv checks (potential race conditions)
  (Germán Blanco via fpj)



git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1558950 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2014-01-13T22:34:05Z,"ZOOKEEPER-1860. Async versions of reconfig don't actually throw KeeperException nor InterruptedException (Raul Gutierrez Segales via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1557875 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2014-01-09T22:56:41Z,"ZOOKEEPER-1857. PrepRequestProcessotTest doesn't shutdown ZooKeeper server (Germán Blanco via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1556976 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2014-01-09T21:01:29Z,"ZOOKEEPER-1057. zookeeper c-client, connection to offline server fails to successfully fallback to second zk host (Germán Blanco via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1556948 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2014-01-09T19:21:10Z,"ZOOKEEPER-1414. QuorumPeerMainTest.testQuorum, testBadPackets are failing intermittently (Rakesh R via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1556925 13f79535-47bb-0310-9956-ffa450edef68"
Flavio Paiva Junqueira,fpj@apache.org,2014-01-03T00:40:13Z,"ZOOKEEPER-1852. ServerCnxnFactory instance is not properly cleanedup (Rakesh R via fpj)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1554981 13f79535-47bb-0310-9956-ffa450edef68"
Flavio Paiva Junqueira,fpj@apache.org,2014-01-03T00:24:52Z,"ZOOKEEPER-1852. ServerCnxnFactory instance is not properly cleanedup (Rakesh R via fpj)



git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1554980 13f79535-47bb-0310-9956-ffa450edef68"
Flavio Paiva Junqueira,fpj@apache.org,2013-12-27T16:46:37Z,"ZOOKEEPER-1179.  NettyServerCnxn does not properly close socket on 4 letter word requests (Rakesh R, Germán Blanco via fpj)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1553693 13f79535-47bb-0310-9956-ffa450edef68"
Flavio Paiva Junqueira,fpj@apache.org,2013-12-27T14:57:20Z,"ZOOKEEPER-1179. NettyServerCnxn does not properly close socket on 
  4 letter word requests (Rakesh R, Germán Blanco via fpj)



git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1553681 13f79535-47bb-0310-9956-ffa450edef68"
Flavio Paiva Junqueira,fpj@apache.org,2013-12-21T21:05:40Z,"ZOOKEEPER-1849. Need to properly tear down tests in various cases
  (Germán Blanco via fpj)



git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1552946 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2013-12-20T01:28:50Z,"ZOOKEEPER-1430. add maven deploy support to the build (Giridharan Kesavan via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1552469 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2013-12-17T16:55:29Z,"ZOOKEEPER-1388. Client side 'PathValidation' is missing for the multi-transaction api. (Rakesh R via marshallm, phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1551624 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2013-12-16T21:47:20Z,"ZOOKEEPER-1756. zookeeper_interest() in C client can return a timeval of 0 (Eric Lindvall via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1551366 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2013-12-16T06:29:50Z,"ZOOKEEPER-1622. session ids will be negative in the year 2022 (Eric Newton via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1551119 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2013-12-16T04:18:47Z,"ZOOKEEPER-1839. Deadlock in NettyServerCnxn (Rakesh R via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1551111 13f79535-47bb-0310-9956-ffa450edef68"
Camille Fournier,camille@apache.org,2013-12-11T18:22:04Z,"ZOOKEEPER-1382. Zookeeper server holds onto dead/expired session ids in the watch data structures
  (Germán Blanco and Michael Morello via camille)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1550213 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2013-12-11T00:10:29Z,"ZOOKEEPER-1834. Catch IOException in FileTxnLog (fpj via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1550005 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2013-12-10T20:38:32Z,"ZOOKEEPER-1019. zkfuse doesn't list dependency on boost in README (Raul Gutierrez Segales via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1549960 13f79535-47bb-0310-9956-ffa450edef68"
Flavio Paiva Junqueira,fpj@apache.org,2013-12-07T10:16:34Z,"ZOOKEEPER-1459. Standalone ZooKeeperServer is not closing 
  the transaction log files on shutdown (Rakesh R via fpj)



git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1548825 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2013-12-04T04:14:52Z,"ZOOKEEPER-1632. fix memory leaks in cli_st (fpj via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1547702 13f79535-47bb-0310-9956-ffa450edef68"
Flavio Paiva Junqueira,fpj@apache.org,2013-11-27T23:22:03Z,"ZOOKEEPER-1821. very ugly warning when compiling load_gen.c (german blanco via fpj)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1546227 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2013-11-19T01:03:43Z,"ZOOKEEPER-1815. Tolerate incorrectly set system hostname in tests (some one via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1543281 13f79535-47bb-0310-9956-ffa450edef68"
Flavio Paiva Junqueira,fpj@apache.org,2013-11-15T18:06:26Z,"ZOOKEEPER-1786. ZooKeeper data model documentation is incorrect (Niraj Tolia via fpj)



git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1542355 13f79535-47bb-0310-9956-ffa450edef68"
Thawan Kooburat,thawan@apache.org,2013-11-14T04:34:42Z,"ZOOKEEPER-1798. Fix race condition in testNormalObserverRun (Part 2) (thawan, fpj via thawan)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1541810 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2013-11-12T06:33:32Z,"ZOOKEEPER-1812. ZooInspector reconnection always fails if first connection fails (Benjamin Jaton via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1540961 13f79535-47bb-0310-9956-ffa450edef68"
Benjamin Reed,breed@apache.org,2013-11-07T05:41:50Z,"ZOOKEEPER-1783. Distinguish initial configuration from first established configuration (shralex via breed)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1539529 13f79535-47bb-0310-9956-ffa450edef68"
Camille Fournier,camille@apache.org,2013-11-05T02:02:37Z,"ZOOKEEPER-1666. Avoid Reverse DNS lookup if the hostname in connection string is literal IP address. (George Cao via camille)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1538853 13f79535-47bb-0310-9956-ffa450edef68"
Thawan Kooburat,thawan@apache.org,2013-10-24T18:41:12Z,"ZOOKEEPER-1798. Fix race condition in testNormalObserverRun (thawan, fpj via thawan)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1535491 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2013-10-24T05:21:13Z,"ZOOKEEPER-1499. clientPort config changes not backwards-compatible (Alexander Shraer via phunt, breed)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1535280 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2013-10-24T05:11:40Z,"ZOOKEEPER-1744. clientPortAddress breaks ""zkServer.sh status"" (Nick Ohanian via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1535278 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2013-10-24T01:09:54Z,"ZOOKEEPER-1557. jenkins jdk7 test failure in testBadSaslAuthNotifiesWatch (Eugene Koontz via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1535251 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2013-10-22T23:23:54Z,"ZOOKEEPER-1180 New entry for files ignored by svn (phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1534844 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2013-10-22T23:15:22Z,"ZOOKEEPER-1799. SaslAuthFailDesignatedClientTest.testAuth fails frequently on SUSE (Jeffrey Zhong via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1534842 13f79535-47bb-0310-9956-ffa450edef68"
Flavio Paiva Junqueira,fpj@apache.org,2013-10-22T10:54:44Z,"ZOOKEEPER-1667. Watch event isn't handled correctly when a client reestablish to a server (jacky007, fpj via fpj)



git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1534599 13f79535-47bb-0310-9956-ffa450edef68"
Flavio Paiva Junqueira,fpj@apache.org,2013-10-21T21:36:55Z,"ZOOKEEPER-1732. ZooKeeper server unable to join established ensemble (German Blanco via fpj)



git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1534390 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2013-10-17T17:07:44Z,"ZOOKEEPER-1646. mt c client tests fail on Ubuntu Raring (phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1533161 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2013-10-14T23:56:53Z,"ZOOKEEPER-1795. unable to build c client on ubuntu (Raul Gutierrez Segales via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1532152 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2013-10-11T22:04:17Z,"ZOOKEEPER-1715. Upgrade netty version (Sean Bridges via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1531444 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2013-10-11T19:18:14Z,"ZOOKEEPER-1610. Some classes are using == or != to compare Long/String objects instead of .equals() (Edward Ribeiro via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1531396 13f79535-47bb-0310-9956-ffa450edef68"
Camille Fournier,camille@apache.org,2013-10-10T18:06:17Z,"ZOOKEEPER-1624. PrepRequestProcessor abort multi-operation incorrectly. (thawan via camille)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1531061 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2013-10-09T22:11:56Z,"ZOOKEEPER-1627. Add org.apache.zookeeper.common to exported packages in OSGi MANIFEST (Arnoud Glimmerveen via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1530809 13f79535-47bb-0310-9956-ffa450edef68"
Thawan Kooburat,thawan@apache.org,2013-10-09T20:21:55Z,"ZOOKEEPER-1147. Add support for local sessions (Jay Shrauner, thawan via thawan)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1530781 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2013-10-09T16:50:05Z,"ZOOKEEPER-1509. Please update documentation to reflect updated FreeBSD support (George Neville-Neil via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1530706 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2013-10-08T06:44:54Z,"ZOOKEEPER-877. zkpython does not work with python3.1 (Daniel Enman via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1530166 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2013-10-08T05:34:46Z,"ZOOKEEPER-1771. ZooInspector authentication (Benjamin Jaton via phunt) part 2 - fix license headers

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1530158 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2013-10-08T05:27:30Z,"ZOOKEEPER-1774. QuorumPeerMainTest fails consistently with complains about host"" assertion failure (phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1530157 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2013-10-07T23:36:54Z,"ZOOKEEPER-1781. ZooKeeper Server fails if snapCount is set to 1 (Takashi Ohnishi via phunt, breed)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1530110 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2013-10-07T23:35:20Z,"ZOOKEEPER-1781. ZooKeeper Server fails if snapCount is set to 1 (Takashi Ohnishi via phunt, breed)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1530108 13f79535-47bb-0310-9956-ffa450edef68"
Thawan Kooburat,thawan@apache.org,2013-10-07T19:08:55Z,"ZOOKEEPER-1551. Observers ignore txns that come after snapshot and UPTODATE (thawan, fpj via thawan)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1530029 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2013-10-04T22:57:41Z,"ZOOKEEPER-1778. Use static final Logger objects (Rakesh R via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1529344 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2013-10-04T22:17:00Z,"ZOOKEEPER-1766 Consistent log severity level guards and statements (Jackie Chang via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1529330 13f79535-47bb-0310-9956-ffa450edef68"
Flavio Paiva Junqueira,fpj@apache.org,2013-10-03T21:48:28Z,"ZOOKEEPER-732. Improper translation of error into Python exception (Andrei Savu, Lei Zhang, fpj via fpj)



git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1529013 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2013-10-03T16:57:07Z,"ZOOKEEPER-1773. incorrect reference to jline version/lib in docs (Manikumar Reddy via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1528934 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2013-10-03T16:45:52Z,"ZOOKEEPER-1771. ZooInspector authentication (Benjamin Jaton via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1528928 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2013-10-02T18:19:30Z,"ZOOKEEPER-1733. FLETest#testLE is flaky on windows boxes (Jeffrey Zhong via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1528586 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2013-10-01T23:45:22Z,"ZOOKEEPER-1770. NullPointerException in SnapshotFormatter (Germán Blanco via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1528271 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2013-10-01T21:42:24Z,"ZOOKEEPER-1655. Make jline dependency optional in maven pom (Thomas Weise via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1528224 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2013-10-01T21:18:07Z,"ZOOKEEPER-1718. Support JLine 2 (Manikumar Reddy via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1528219 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2013-10-01T05:56:21Z,"ZOOKEEPER-1769. ZooInspector can't display node data/metadata/ACLs (Benjamin Jaton via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1527908 13f79535-47bb-0310-9956-ffa450edef68"
Thawan Kooburat,thawan@apache.org,2013-09-30T20:52:58Z,"ZOOKEEPER-1758. Add documentation for zookeeper.observer.syncEnabled flag (thawan, fpj via thawan)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1527775 13f79535-47bb-0310-9956-ffa450edef68"
Thawan Kooburat,thawan@apache.org,2013-09-30T20:20:30Z,"ZOOKEEPER-1552. Enable sync request processor in Observer (thawan, fpj)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1527760 13f79535-47bb-0310-9956-ffa450edef68"
Camille Fournier,camille@apache.org,2013-09-29T20:24:03Z,"ZOOKEEPER-1759. Adding ability to allow READ operations for authenticated users, 
  versus keeping ACLs wide open for READ. (Yuliya Feldman via camille)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1527398 13f79535-47bb-0310-9956-ffa450edef68"
Mahadev Konar,mahadev@apache.org,2013-09-27T23:24:37Z,"ZOOKEEPER-1696. Fail to run zookeeper client on Weblogic application server. (Jeffrey Zhong via mahade

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1527129 13f79535-47bb-0310-9956-ffa450edef68"
Mahadev Konar,mahadev@apache.org,2013-09-27T23:21:17Z,"Reverting ZOOKEEPER-1696 patch that was committed.

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1527122 13f79535-47bb-0310-9956-ffa450edef68"
Flavio Paiva Junqueira,fpj@apache.org,2013-09-26T12:05:47Z,"ZOOKEEPER-87. Follower does not shut itself down if its too far behind the leader. (German Blanco via fpj)



git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1526454 13f79535-47bb-0310-9956-ffa450edef68"
Mahadev Konar,mahadev@apache.org,2013-09-26T00:00:43Z,"ZOOKEEPER-1696. Fail to run zookeeper client on Weblogic application server. (Jeffrey Zhong via mahade.

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1526337 13f79535-47bb-0310-9956-ffa450edef68"
Flavio Paiva Junqueira,fpj@apache.org,2013-09-25T22:13:19Z,"ZOOKEEPER-1096. Leader communication should listen on specified IP, not wildcard address (Jared Cantwell, German Blanco via fpj)



git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1526317 13f79535-47bb-0310-9956-ffa450edef68"
Camille Fournier,camille@apache.org,2013-09-25T16:18:03Z,"ZOOKEEPER-1759. Adding ability to allow READ operations for authenticated users, 
  versus keeping ACLs wide open for READ. (Yuliya Feldman via camille)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1526219 13f79535-47bb-0310-9956-ffa450edef68"
Flavio Paiva Junqueira,fpj@apache.org,2013-09-18T13:14:07Z,"ZOOKEEPER-1753. ClientCnxn is not properly releasing the resources, which are used to ping RwServer (Rakesh R via fpj)



git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1524398 13f79535-47bb-0310-9956-ffa450edef68"
Flavio Paiva Junqueira,fpj@apache.org,2013-09-18T10:58:32Z,"ZOOKEEPER-1657. Increased CPU usage by unnecessary SASL checks (Philip K. Warren via fpj)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1524364 13f79535-47bb-0310-9956-ffa450edef68"
Mahadev Konar,mahadev@apache.org,2013-09-18T02:08:33Z,"ZOOKEEPER-1751. ClientCnxn#run could miss the second ping or connection get dropped before a ping. (Jeffrey Zhong via mahadev)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1524275 13f79535-47bb-0310-9956-ffa450edef68"
Flavio Paiva Junqueira,fpj@apache.org,2013-09-17T23:14:04Z,"ZOOKEEPER-1754. Read-only server allows to create znode (Rakesh R via fpj)



git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1524252 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2013-09-11T22:26:52Z,"ZOOKEEPER-1750 Handle NIOServerCnxn#toString returning null (Rakesh R via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1522079 13f79535-47bb-0310-9956-ffa450edef68"
Camille Fournier,camille@apache.org,2013-09-11T20:44:15Z," ZOOKEEPER-1664. Kerberos auth doesn't work with native platform GSS integration. (Boaz Kelmer via camille) 
  

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1522029 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2013-09-09T22:37:13Z,"ZOOKEEPER-1750 Race condition producing NPE in NIOServerCnxn.toString
(Rakesh R via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1521308 13f79535-47bb-0310-9956-ffa450edef68"
Flavio Paiva Junqueira,fpj@apache.org,2013-09-05T21:50:08Z,"ZOOKEEPER-1448. Node+Quota creation in transaction log can crash leader startup (Botond Hejj via fpj)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1520436 13f79535-47bb-0310-9956-ffa450edef68"
Flavio Paiva Junqueira,fpj@apache.org,2013-09-03T11:40:38Z,"ZOOKEEPER-1670. zookeeper should set a default value for SERVER_JVMFLAGS and CLIENT_JVMFLAGS so that memory usage is controlled (Arpit Gupta via fpj)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1519655 13f79535-47bb-0310-9956-ffa450edef68"
Flavio Paiva Junqueira,fpj@apache.org,2013-09-02T21:04:12Z,"ZOOKEEPER-1379. 'printwatches, redo, history and connect '. client commands always print usage. This is not necessary (edward via fpj)



git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1519515 13f79535-47bb-0310-9956-ffa450edef68"
Flavio Paiva Junqueira,fpj@apache.org,2013-09-02T20:22:45Z,"ZOOKEEPER-1713. wrong time calculation in zkfuse.cc (german via fpj)



git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1519511 13f79535-47bb-0310-9956-ffa450edef68"
Flavio Paiva Junqueira,fpj@apache.org,2013-08-21T09:53:37Z,"ZOOKEEPER-1679. c client: use -Wdeclaration-after-statement (michi via fpj)



git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1516126 13f79535-47bb-0310-9956-ffa450edef68"
Flavio Paiva Junqueira,fpj@apache.org,2013-08-21T09:40:42Z,"ZOOKEEPER-1400. Allow logging via callback instead of raw FILE pointer (michi via fpj)



git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1516123 13f79535-47bb-0310-9956-ffa450edef68"
Camille Fournier,camille@apache.org,2013-07-15T01:28:42Z,"ZOOKEEPER-1629. testTransactionLogCorruption occasionally fails. (shralex via camille)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1503101 13f79535-47bb-0310-9956-ffa450edef68"
Camille Fournier,camille@apache.org,2013-07-14T20:09:45Z," ZOOKEEPER-1629. testTransactionLogCorruption occasionally fails. (shralex via camille)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1503045 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2013-07-01T22:54:25Z,"ZOOKEEPER-1702. ZooKeeper client may write operation packets before receiving successful response to connection request, can cause TCP RST (Chris Nauroth via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1498732 13f79535-47bb-0310-9956-ffa450edef68"
Thawan Kooburat,thawan@apache.org,2013-06-28T21:22:35Z,"ZOOKEEPER-1413. Use on-disk transaction log for learner sync up (thawan)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1497929 13f79535-47bb-0310-9956-ffa450edef68"
Camille Fournier,camille@apache.org,2013-06-28T16:26:09Z,"ZOOKEEPER-1719. zkCli.sh, zkServer.sh and zkEnv.sh regression caused by ZOOKEEPER-1663
  (Marshall McMullen via camille)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1497830 13f79535-47bb-0310-9956-ffa450edef68"
Camille Fournier,camille@apache.org,2013-06-21T17:56:06Z,"ZOOKEEPER-1714 perl client segfaults if ZOO_READ_ACL_UNSAFE constant is used
  (Botond Hejj via camille)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1495522 13f79535-47bb-0310-9956-ffa450edef68"
Camille Fournier,camille@apache.org,2013-06-06T16:53:06Z,"ZOOKEEPER-1417. investigate differences in client last zxid handling btw c and java clients (thawan via camille)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1490358 13f79535-47bb-0310-9956-ffa450edef68"
Camille Fournier,camille@apache.org,2013-05-20T17:08:25Z,"ZOOKEEPER-1663. scripts don't work when path contains spaces (Amichai Rothman via camille)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1484527 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2013-05-19T22:08:08Z,"ZOOKEEPER-1400. Allow logging via callback instead of raw FILE pointer (Marshall McMullen via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1484357 13f79535-47bb-0310-9956-ffa450edef68"
Camille Fournier,camille@apache.org,2013-05-19T21:58:21Z,"ZOOKEEPER-1663. scripts don't work when path contains spaces (Amichai Rothman via camille)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1484355 13f79535-47bb-0310-9956-ffa450edef68"
Camille Fournier,camille@apache.org,2013-05-16T16:49:11Z,"ZOOKEEPER-1642. Leader loading database twice (fpj via camille)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1483440 13f79535-47bb-0310-9956-ffa450edef68"
Flavio Paiva Junqueira,fpj@apache.org,2013-05-14T12:27:11Z,"ZOOKEEPER-1324. Remove Duplicate NEWLEADER packets 
from the Leader to the Follower. (Thawan, fpj via fpj)



git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1482318 13f79535-47bb-0310-9956-ffa450edef68"
Flavio Paiva Junqueira,fpj@apache.org,2013-05-13T07:32:47Z,"ZOOKEEPER-1706.  Typo in Double Barriers example (Jingguo Yao via fpj)



git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1481718 13f79535-47bb-0310-9956-ffa450edef68"
Flavio Paiva Junqueira,fpj@apache.org,2013-05-11T13:35:13Z,"ZOOKEEPER-1697. large snapshots can cause continuous quorum failure
  (phunt via fpj)



git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1481325 13f79535-47bb-0310-9956-ffa450edef68"
Flavio Paiva Junqueira,fpj@apache.org,2013-05-11T12:51:25Z,"ZOOKEEPER-1700. FLETest consistently failing - setLastSeenQuorumVerifier 
  seems to be hanging (phunt via fpj)



git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1481317 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2013-04-01T23:01:06Z,"ZOOKEEPER-1411. Consolidate membership management, distinguish between static and dynamic configuration parameters. A small bug fix.


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1463329 13f79535-47bb-0310-9956-ffa450edef68"
Camille Fournier,camille@apache.org,2013-03-28T15:07:41Z,"ZOOKEEPER-107. Allow dynamic changes to server cluster membership. C++ test  fixes (michim via camille)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1462141 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2013-03-20T06:17:41Z,"ZOOKEEPER-1672. zookeeper client does not accept ""-members"" option in reconfig command (Xiaoshuang Wang via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1458648 13f79535-47bb-0310-9956-ffa450edef68"
Camille Fournier,camille@apache.org,2013-03-19T15:53:06Z,"ZOOKEEPER-107. Allow dynamic changes to server cluster membership. Small C++ build file fixes (michim via camille)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1458356 13f79535-47bb-0310-9956-ffa450edef68"
Camille Fournier,camille@apache.org,2013-03-12T01:48:52Z,"ZOOKEEPER-107. Allow dynamic changes to server cluster membership, small bugfix (michi via camille)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1455387 13f79535-47bb-0310-9956-ffa450edef68"
Benjamin Reed,breed@apache.org,2013-03-07T06:01:49Z,"ZOOKEEPER-107. Allow dynamic changes to server cluster membership (Alex Shraer via breed)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1453693 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2013-02-20T05:24:31Z,"ZOOKEEPER-1643. Windows: fetch_and_add not 64bit-compatible, may not be correct (Erik Anderson via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1448007 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2013-02-20T00:47:18Z,"ZOOKEEPER-1597. Windows build failing (michim via phunt) part 3

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1447982 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2013-02-19T08:28:34Z,"ZOOKEEPER-1647. OSGi package import/export changes not applied to bin-jar (Arnoud Glimmerveen via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1447621 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2013-02-19T08:18:05Z,"ZOOKEEPER-1606. intermittent failures in ZkDatabaseCorruptionTest on jenkins (lixiaofeng via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1447618 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2013-02-19T07:55:19Z,"ZOOKEEPER-1648. Fix WatcherTest in JDK7 (Thawan Kooburat via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1447613 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2013-02-16T00:59:36Z,"ZOOKEEPER-1641. Using slope=positive results in a jagged ganglia graph of packets rcvd/sent (Ben Hartshorne via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1446831 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2013-02-16T00:49:23Z,"ZOOKEEPER-1645. ZooKeeper OSGi package imports not complete (Arnoud Glimmerveen via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1446828 13f79535-47bb-0310-9956-ffa450edef68"
Camille Fournier,camille@apache.org,2013-02-03T14:52:11Z,"ZOOKEEPER-1572. Add an async (Java) interface for multi request (Sijie Guo via camille)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1441922 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2013-02-03T06:39:57Z,"ZOOKEEPER-1562. Memory leaks in zoo_multi API (Deepak Jagtap via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1441862 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2013-02-03T06:08:02Z,"Allow 26 release audit warnings - new windows build files

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1441860 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2013-01-25T07:37:01Z,"ZOOKEEPER-1601. document changes for multi-threaded CommitProcessor and NIOServerCnxn (Thawan Kooburat via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1438375 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2013-01-25T07:23:47Z,"ZOOKEEPER-1613. The documentation still points to 2008 in the copyright notice (Edward Ribeiro via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1438366 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2013-01-25T07:12:52Z,"ZOOKEEPER-1615. minor typos in ZooKeeper Programmer's Guide web page (Evan Zacks via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1438359 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2013-01-25T07:08:28Z,"ZOOKEEPER-1628. Documented list of allowable characters in ZK doc not in line with code (Gabriel Reid via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1438356 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2013-01-25T06:54:19Z,"ZOOKEEPER-1619. Allow spaces in URL (Edward Ribeiro via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1438351 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2013-01-25T06:46:16Z,"ZOOKEEPER-1620. NIOServerCnxnFactory (new code introduced in ZK-1504) opens selectors but never closes them (Thawan Kooburat via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1438348 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2013-01-25T06:33:16Z,"ZOOKEEPER-1597. Windows build failing (michim via phunt) part 2

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1438345 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2013-01-25T01:17:38Z,"ZOOKEEPER-1495. ZK client hangs when using a function not available on the server. (Skye W-M via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1438288 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2013-01-23T02:55:58Z,"ZOOKEEPER-1625. zkServer.sh is looking for clientPort in config file, but it may
no longer be there with ZK-1411 (Alexander Shraer via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1437257 13f79535-47bb-0310-9956-ffa450edef68"
Flavio Paiva Junqueira,fpj@apache.org,2013-01-18T00:08:53Z,"Reverting previous commit and going back to revision 1427034.



git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1434978 13f79535-47bb-0310-9956-ffa450edef68"
Flavio Paiva Junqueira,fpj@apache.org,2013-01-15T21:13:28Z,"ZOOKEEPER-1324. Remove Duplicate NEWLEADER packets from the Leader to the Follower. (thawan via fpj)



git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1433651 13f79535-47bb-0310-9956-ffa450edef68"
Camille Fournier,camille@apache.org,2012-12-31T01:38:10Z,"ZOOKEEPER-1535. ZK Shell/Cli re-executes last command on exit (Edward Ribeiro via camille)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1427034 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2012-12-22T00:43:53Z,"ZOOKEEPER-1597. Windows build failing (michim via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1425215 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2012-12-20T05:50:19Z,"ZOOKEEPER-1603. StaticHostProviderTest testUpdateClientMigrateOrNot hangs (Alexander Shraer via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1424336 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2012-12-19T18:16:50Z,"ZOOKEEPER-1297. Add stat information to create() call (Lenni Kuff via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1423996 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2012-12-19T18:07:14Z,"ZOOKEEPER-1504. Multi-thread NIOServerCnxn (Jay Shrauner via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1423990 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2012-12-19T08:02:50Z,"ZOOKEEPER-1334. Zookeeper 3.4.x is not OSGi compliant - MANIFEST.MF is flawed (Claus Ibsen via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1423778 13f79535-47bb-0310-9956-ffa450edef68"
Mahadev Konar,mahadev@apache.org,2012-12-17T07:12:29Z,"ZOOKEEPER-1578. org.apache.zookeeper.server.quorum.Zab1_0Test failed due to  hard code with 33556 port. (Li Ping via mahadev)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1422772 13f79535-47bb-0310-9956-ffa450edef68"
Mahadev Konar,mahadev@apache.org,2012-12-17T06:10:35Z,"ZOOKEEPER-1335. Add support for --config to zkEnv.sh to specify a config directory different than what is expected (Arpit Gupta via mahadev)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1422758 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2012-12-16T06:43:03Z,"ZOOKEEPER-1602. a change to QuorumPeerConfig's API broke compatibility with HBase (Alexander Shraer via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1422473 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2012-12-15T00:42:43Z,"ZOOKEEPER-1584. Adding mvn-install target for deploying the zookeeper artifacts to .m2 repository (Ashish Singh via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1422167 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2012-12-13T07:25:35Z,"ZOOKEEPER-1387. Wrong epoch file created (Benjamin Busjaeger via breed, phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1421098 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2012-12-13T07:14:30Z,"ZOOKEEPER-1478. Small bug in QuorumTest.testFollowersStartAfterLeader( ) (Alexander Shraer via fpj, breed, phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1421091 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2012-12-13T06:05:29Z,"ZOOKEEPER-1583. Document maxClientCnxns in conf/zoo_sample.cfg (Christopher Tubbs via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1421080 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2012-12-12T07:59:14Z,"ZOOKEEPER-1553. Findbugs configuration is missing some dependencies (Sean Busbey via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1420555 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2012-12-12T07:30:50Z,"ZOOKEEPER-721. Minor cleanup related to the log4j version change from 1.2.15 -> 1.2.16 (Sean Busbey via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1420551 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2012-12-12T07:19:53Z,"ZOOKEEPER-1598. Ability to support more digits in the version string (Raja Aluri via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1420547 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2012-12-12T06:58:19Z,"ZOOKEEPER-1581. change copyright in notice to 2012 (breed via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1420541 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2012-12-12T06:46:25Z,"ZOOKEEPER-1513. ""Unreasonable length"" exception while starting a server (Skye W-M via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1420538 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2012-12-11T08:18:08Z,"ZOOKEEPER-1596. Zab1_0Test should ensure that the file is closed (Enis Soztutar via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1420028 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2012-12-11T07:42:37Z,"ZOOKEEPER-1564. Allow JUnit test build with IBM Java (Paulo Ricardo Paz Vital via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1420021 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2012-12-07T23:38:00Z,"ZOOKEEPER-1505. Multi-thread CommitProcessor (Jay Shrauner via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1418555 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2012-11-30T20:43:09Z,"ZOOKEEPER-1591. Windows build is broken because inttypes.h doesn't exist
(Marshall McMullen via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1415847 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2012-11-28T07:43:26Z,"ZOOKEEPER-1474. Cannot build Zookeeper with IBM Java: use of Sun MXBean classes (Adalberto Medeiros via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1414566 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2012-11-28T07:13:09Z,"ZOOKEEPER-1590. Patch to add zk.updateServerList(newServerList) broke the build (fpj via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1414556 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2012-11-27T01:34:47Z,"ZOOKEEPER-1585. make dist for src/c broken in trunk (Raul Gutierrez Segales via
michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1413968 13f79535-47bb-0310-9956-ffa450edef68"
Flavio Paiva Junqueira,fpj@apache.org,2012-11-17T14:03:03Z,"ZOOKEEPER-1355. Add zk.updateServerList(newServerList) (Alex Shraer, Marshall McMullen via fpj)



git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1410731 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2012-10-31T18:38:57Z,"ZOOKEEPER-1560 Zookeeper client hangs on creation of large nodes. Added missing test. (Skye Wanderman-Milne via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1404288 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2012-10-31T17:24:54Z,"ZOOKEEPER-1560 Zookeeper client hangs on creation of large nodes (Skye Wanderman-Milne via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1404260 13f79535-47bb-0310-9956-ffa450edef68"
Mahadev Konar,mahadev@apache.org,2012-09-28T16:32:19Z,"ZOOKEEPER-1550. ZooKeeperSaslClient does not finish anonymous login on OpenJDK (Eugene Koontz via mahadev)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1391526 13f79535-47bb-0310-9956-ffa450edef68"
Benjamin Reed,breed@apache.org,2012-09-25T05:13:27Z,"ZOOKEEPER-1540. ZOOKEEPER-1411 breaks backwards compatibility (Andrew Ferguson via breed)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1389711 13f79535-47bb-0310-9956-ffa450edef68"
Henry Robinson,henry@apache.org,2012-09-24T23:57:20Z,"ZOOKEEPER-1238. Linger time should be -1 for Netty sockets. (Skye W-M via henryr)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1389656 13f79535-47bb-0310-9956-ffa450edef68"
Mahadev Konar,mahadev@apache.org,2012-09-17T07:53:10Z,"ZOOKEEPER-1496. Ephemeral node not getting cleared even after client has exited. (Rakesh R via mahadev)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1386496 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2012-09-16T21:31:30Z,"Revert 1380931: ZOOKEEPER-1105 c client zookeeper_close not send CLOSE_OP
request to server (lincoln.lee via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1385378 13f79535-47bb-0310-9956-ffa450edef68"
Mahadev Konar,mahadev@apache.org,2012-09-14T07:31:20Z,"ZOOKEEPER-1483. Fix leader election recipe documentation (Michi Mutsuzaki via mahadev)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1384669 13f79535-47bb-0310-9956-ffa450edef68"
Mahadev Konar,mahadev@apache.org,2012-09-10T07:00:50Z,"ZOOKEEPER-1494. C client: socket leak after receive timeout in zookeeper_interest() (Michi Mutsuzaki via mahadev)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1382661 13f79535-47bb-0310-9956-ffa450edef68"
Mahadev Konar,mahadev@apache.org,2012-09-09T18:24:07Z,"ZOOKEEPER-1437. Client uses session before SASL authentication complete (Eugene Koontz via mahadev)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1382555 13f79535-47bb-0310-9956-ffa450edef68"
Mahadev Konar,mahadev@apache.org,2012-09-07T06:28:57Z,"ZOOKEEPER-1501. Nagios plugin always returns OK when it cannot connect to zookeeper. (Brian Sutherland via mahadev)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1381902 13f79535-47bb-0310-9956-ffa450edef68"
Mahadev Konar,mahadev@apache.org,2012-09-07T06:22:05Z,"ZOOKEEPER-1538. Improve space handling in zkServer.sh and zkEnv.sh. (Andrew Ferguson via mahadev)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1381900 13f79535-47bb-0310-9956-ffa450edef68"
Mahadev Konar,mahadev@apache.org,2012-09-07T06:14:59Z,"ZOOKEEPER-1380. zkperl: _zk_release_watch doesn't remove items properly from the watch list. (Botond Hejj via mahadev)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1381897 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2012-09-04T23:18:44Z,"ZOOKEEPER-1105 c client zookeeper_close not send CLOSE_OP request to server (lincoln.lee via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1380931 13f79535-47bb-0310-9956-ffa450edef68"
Mahadev Konar,mahadev@apache.org,2012-09-03T05:56:41Z,"ZOOKEEPER-1328. Misplaced assertion for the test case 'FLELostMessageTest' and not identifying misfunctions. (Rakesh R via mahadev)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1380130 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2012-08-30T20:32:54Z,"ZOOKEEPER-1481 allow the C cli to run exists with a watcher (phunt via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1379123 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2012-08-30T18:26:37Z,"ZOOKEEPER-1536 c client : memory leak in winport.c (brooklin via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1379046 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2012-08-28T19:51:43Z,"ZOOKEEPER-1497. Allow server-side SASL login with JAAS configuration to be programmatically set (rather than only by reading JAAS configuration file) (Matteo Bertozzi via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1378285 13f79535-47bb-0310-9956-ffa450edef68"
Michi Mutsuzaki,michim@apache.org,2012-08-14T23:06:57Z,"ZOOKEEPER-1533 Correct the documentation of the args for the JavaExample doc.
(Warren Turkal via michim)


git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1373156 13f79535-47bb-0310-9956-ffa450edef68"
Henry Robinson,henry@apache.org,2012-08-02T22:17:58Z,"ZOOKEEPER-1514. FastLeaderElection - leader ignores the round information when joining a quorum (flavio via henryr)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1368737 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2012-08-01T22:24:13Z,"ZOOKEEPER-1510. Should not log SASL errors for non-secure usage (Todd Lipcon via phunt) Missed a bit in the prior commit

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1368299 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2012-08-01T21:38:05Z,"ZOOKEEPER-1510. Should not log SASL errors for non-secure usage (Todd Lipcon via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1368267 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2012-08-01T19:21:11Z,"ZOOKEEPER-1503. remove redundant JAAS configuration code in SaslAuthTest and SaslAuthFailTest ((Eugene Koontz via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1368203 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2012-08-01T15:53:36Z,"ZOOKEEPER-1522. intermittent failures in Zab test due to NPE in recursiveDelete test function (phunt via flavio)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1368072 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2012-07-29T05:31:15Z,"ZOOKEEPER-1493. C Client: zookeeper_process doesn't invoke completion callback if zookeeper_close has been called (Michi Mutsuzaki via phunt and mahadev)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1366784 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2012-07-29T05:02:56Z,"ZOOKEEPER-1521. LearnerHandler initLimit/syncLimit problems specifying follower socket timeout limits (phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1366781 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2012-07-17T21:25:11Z,"ZOOKEEPER-1489. Data loss after truncate on transaction log (phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1362660 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2012-07-17T21:19:38Z,"ZOOKEEPER-1427. Writing to local files is done non-atomically (phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1362656 13f79535-47bb-0310-9956-ffa450edef68"
Camille Fournier,camille@apache.org,2012-07-05T16:01:26Z,"ZOOKEEPER-1465. Cluster availability following new leader election 
    takes a long time with large datasets - is correlated to dataset size
    (fpj and Thawan Kooburat via camille)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1357711 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2012-06-30T06:51:26Z,"ZOOKEEPER-1454. Document how to run autoreconf if cppunit is installed in a non-standard directory (Michi Mutsuzaki via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1355657 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2012-06-30T06:42:50Z,"ZOOKEEPER-1471. Jute generates invalid C++ code (Michi Mutsuzaki via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1355653 13f79535-47bb-0310-9956-ffa450edef68"
Patrick D. Hunt,phunt@apache.org,2012-06-30T06:30:58Z,"ZOOKEEPER-1236. Security uses proprietary Sun APIs (Adalberto Medeiros via phunt)

git-svn-id: https://svn.apache.org/repos/asf/zookeeper/trunk@1355651 13f79535-47bb-0310-9956-ffa450edef68"
